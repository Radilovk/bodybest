<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ—Ç–µ—Å—Ç | BodyBest</title>
  <!-- –õ–∏–Ω–∫ –∫—ä–º –≥–ª–∞–≤–Ω–∏—è CSS —Ñ–∞–π–ª –Ω–∞ BodyBest -->
  <link rel="stylesheet" href="../css/base_styles.css">
  <style>
    /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ —Å—Ç–∏–ª–æ–≤–µ –∑–∞ –ø—Å–∏—Ö–æ—Ç–µ—Å—Ç–∞, –∏–∑–ø–æ–ª–∑–≤–∞—â–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –æ—Ç base_styles.css */
    :root {
      --radius: var(--radius-md);
      --shadow: var(--shadow-md);
      --shadow-hover: var(--shadow-lg);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: var(--font-primary);
      background: var(--bg-gradient);
      color: var(--text-color-primary);
      line-height: 1.6;
      padding-bottom: var(--space-xl);
    }

    .container {
      max-width: 640px;
      margin: 0 auto;
      padding: var(--space-md);
    }

    /* Theme Toggle Button */
    .theme-toggle {
      position: fixed;
      top: var(--space-md);
      right: var(--space-md);
      width: 48px;
      height: 48px;
      border-radius: var(--radius-round);
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      color: var(--text-color-primary);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
      z-index: 1000;
      -webkit-tap-highlight-color: transparent;
    }

    .theme-toggle:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-hover);
      border-color: var(--primary-color);
    }

    .theme-toggle:active {
      transform: scale(0.95);
    }

    .screen {
      display: none;
      animation: fadeIn 0.3s ease-in;
    }

    .screen.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: var(--space-xl);
      padding: var(--space-xl) var(--space-md) var(--space-md);
      border-bottom: 2px solid var(--border-color);
    }

    .header h1 {
      font-size: clamp(24px, 6vw, 32px);
      margin-bottom: var(--space-sm);
      color: var(--primary-color);
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .header p {
      color: var(--text-color-secondary);
      font-size: var(--fs-base);
      max-width: 480px;
      margin: 0 auto;
    }

    /* Intro Screen */
    .intro-content {
      background: var(--card-bg);
      border-radius: var(--radius);
      border: 1px solid var(--border-color);
      padding: var(--space-xl);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .intro-content:hover {
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    .intro-content h2 {
      font-size: clamp(20px, 5vw, 24px);
      margin-bottom: var(--space-md);
      color: var(--secondary-color);
      font-weight: 700;
    }

    .intro-content p {
      margin-bottom: var(--space-md);
      color: var(--text-color-secondary);
      line-height: 1.7;
    }

    .intro-content ul {
      margin: var(--space-lg) 0;
      padding-left: var(--space-lg);
      color: var(--text-color-primary);
    }

    .intro-content li {
      margin-bottom: var(--space-sm);
      line-height: 1.7;
    }

    .intro-content strong {
      color: var(--primary-color);
      font-weight: 600;
    }

    /* Button Styles */
    .btn {
      width: 100%;
      min-height: 48px;
      padding: var(--space-md) var(--space-lg);
      border: none;
      border-radius: var(--radius-lg);
      font-size: var(--fs-base);
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-family: var(--font-primary);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: var(--text-color-on-primary);
      box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(var(--primary-rgb), 0.4);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .btn-secondary {
      background: var(--card-bg);
      color: var(--text-color-primary);
      border: 2px solid var(--border-color);
      margin-top: var(--space-sm);
    }

    .btn-secondary:hover {
      background: var(--surface-background);
      border-color: var(--primary-color);
      color: var(--primary-color);
      transform: translateY(-2px);
    }

    /* Progress Bar */
    .progress-container {
      margin-bottom: var(--space-xl);
      background: var(--card-bg);
      padding: var(--space-md);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--space-sm);
      font-size: var(--fs-sm);
      color: var(--text-color-secondary);
      font-weight: 600;
    }

    .progress-bar {
      width: 100%;
      height: 12px;
      background: var(--progress-bar-bg-empty);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: var(--radius-lg);
      box-shadow: 0 0 10px rgba(var(--primary-rgb), 0.5);
    }

    /* Question Card */
    .question-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      border: 1px solid var(--border-color);
      padding: var(--space-xl);
      box-shadow: var(--shadow);
      margin-bottom: var(--space-md);
    }

    .question-number {
      font-size: var(--fs-xs);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent-color);
      margin-bottom: var(--space-sm);
      font-weight: 700;
    }

    .question-text {
      font-size: clamp(18px, 4.5vw, 22px);
      margin-bottom: var(--space-lg);
      color: var(--text-color-primary);
      font-weight: 700;
      line-height: 1.4;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
      margin-bottom: var(--space-lg);
    }

    .option {
      background: var(--surface-background);
      border: 2px solid var(--border-color);
      border-radius: var(--radius);
      padding: var(--space-md);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: var(--space-md);
      min-height: 60px;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .option:hover {
      background: var(--card-bg);
      border-color: var(--primary-color);
      transform: translateX(4px);
      box-shadow: var(--shadow-sm);
    }

    .option.selected {
      background: color-mix(in srgb, var(--primary-color) 15%, var(--card-bg));
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.1);
    }

    .option-radio {
      width: 24px;
      height: 24px;
      border: 2px solid var(--border-color);
      border-radius: var(--radius-round);
      flex-shrink: 0;
      position: relative;
      transition: all 0.3s ease;
      background: var(--card-bg);
    }

    .option.selected .option-radio {
      border-color: var(--primary-color);
      background: var(--primary-color);
    }

    .option.selected .option-radio::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: white;
      border-radius: var(--radius-round);
    }

    .option-text {
      flex: 1;
      font-size: var(--fs-base);
      color: var(--text-color-primary);
      line-height: 1.5;
    }

    .legend {
      font-size: var(--fs-sm);
      color: var(--text-color-muted);
      font-style: italic;
      padding: var(--space-md);
      background: color-mix(in srgb, var(--accent-color) 10%, var(--card-bg));
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--accent-color);
      line-height: 1.6;
    }

    /* Navigation */
    .navigation {
      display: flex;
      gap: var(--space-md);
      margin-top: var(--space-lg);
    }

    .navigation .btn {
      flex: 1;
    }

    /* Results Screen */
    .results-header {
      text-align: center;
      margin-bottom: var(--space-xl);
      padding: var(--space-lg);
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .results-header h2 {
      font-size: clamp(24px, 6vw, 30px);
      margin-bottom: var(--space-sm);
      color: var(--primary-color);
      font-weight: 700;
    }

    .results-header p {
      color: var(--text-color-secondary);
      font-size: var(--fs-base);
    }

    .dimension-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      border: 1px solid var(--border-color);
      padding: var(--space-lg);
      margin-bottom: var(--space-md);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .dimension-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .dimension-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-md);
      gap: var(--space-sm);
    }

    .dimension-name {
      font-size: var(--fs-base);
      font-weight: 700;
      color: var(--text-color-primary);
      flex: 1;
    }

    .dimension-code {
      font-size: clamp(18px, 4vw, 22px);
      font-weight: 800;
      padding: var(--space-xs) var(--space-md);
      border-radius: var(--radius-sm);
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      min-width: 48px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3);
    }

    .dimension-description {
      font-size: var(--fs-sm);
      color: var(--text-color-secondary);
      margin-bottom: var(--space-md);
    }

    .score-bar-container {
      position: relative;
      margin-bottom: var(--space-sm);
    }

    .score-bar-labels {
      display: flex;
      justify-content: space-between;
      font-size: var(--fs-xs);
      color: var(--text-color-muted);
      margin-bottom: var(--space-xs);
      font-weight: 600;
    }

    .score-bar {
      width: 100%;
      height: 28px;
      background: linear-gradient(90deg, var(--accent-color) 0%, var(--primary-color) 50%, var(--secondary-color) 100%);
      border-radius: var(--radius-lg);
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .score-marker {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 4px;
      height: 36px;
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 0 3px rgba(var(--primary-rgb), 0.3);
    }

    .score-value {
      text-align: center;
      font-size: var(--fs-sm);
      color: var(--text-color-secondary);
      margin-top: var(--space-xs);
      font-weight: 700;
    }

    .type-code-card {
      background: linear-gradient(135deg, 
        color-mix(in srgb, var(--primary-color) 20%, var(--card-bg)),
        color-mix(in srgb, var(--secondary-color) 15%, var(--card-bg)));
      border: 2px solid var(--primary-color);
      border-radius: var(--radius);
      padding: var(--space-xl);
      text-align: center;
      margin: var(--space-xl) 0;
      box-shadow: var(--shadow-lg);
    }

    .type-code-label {
      font-size: var(--fs-sm);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-color-secondary);
      margin-bottom: var(--space-sm);
      font-weight: 700;
    }

    .type-code-value {
      font-size: clamp(28px, 8vw, 40px);
      font-weight: 800;
      color: var(--primary-color);
      letter-spacing: 0.05em;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .flags-section {
      margin: var(--space-xl) 0;
    }

    .flags-section h3 {
      font-size: var(--fs-lg);
      margin-bottom: var(--space-md);
      color: var(--text-color-primary);
      font-weight: 700;
    }

    .flag-card {
      background: var(--note-critical-bg);
      border: 1px solid var(--note-critical-border);
      border-radius: var(--radius);
      padding: var(--space-md);
      margin-bottom: var(--space-md);
    }

    .flag-card.warning {
      background: var(--note-warning-bg);
      border-color: var(--note-important-border);
    }

    .flag-title {
      font-weight: 700;
      color: var(--text-color-primary);
      margin-bottom: var(--space-xs);
      font-size: var(--fs-base);
    }

    .flag-description {
      font-size: var(--fs-sm);
      color: var(--text-color-secondary);
      line-height: 1.6;
    }

    /* AI Analysis Section */
    .ai-section {
      margin: var(--space-xl) 0;
    }

    .ai-section h3 {
      font-size: clamp(18px, 5vw, 22px);
      margin-bottom: var(--space-md);
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-weight: 700;
      flex-wrap: wrap;
    }

    .ai-badge {
      font-size: var(--fs-xs);
      padding: var(--space-xs) var(--space-sm);
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--tertiary-color) 100%);
      color: white;
      border-radius: var(--radius-lg);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      box-shadow: 0 2px 6px rgba(var(--primary-rgb), 0.3);
    }

    .ai-content {
      background: var(--card-bg);
      border-radius: var(--radius);
      border: 1px solid var(--border-color);
      padding: var(--space-xl);
      box-shadow: var(--shadow);
    }

    .ai-subsection {
      margin-bottom: var(--space-xl);
    }

    .ai-subsection:last-child {
      margin-bottom: 0;
    }

    .ai-subsection h4 {
      font-size: var(--fs-base);
      color: var(--text-color-primary);
      margin-bottom: var(--space-md);
      padding-bottom: var(--space-sm);
      border-bottom: 2px solid var(--border-color);
      font-weight: 700;
    }

    .ai-list {
      list-style: none;
      padding: 0;
    }

    .ai-list li {
      display: flex;
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
      padding-left: var(--space-sm);
    }

    .ai-bullet {
      color: var(--accent-color);
      font-weight: 700;
      flex-shrink: 0;
      font-size: var(--fs-lg);
    }

    .ai-text {
      flex: 1;
      font-size: var(--fs-sm);
      color: var(--text-color-secondary);
      line-height: 1.7;
    }

    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-xl);
      gap: var(--space-md);
    }

    .loading-spinner {
      width: 32px;
      height: 32px;
      border: 3px solid var(--border-color);
      border-top-color: var(--primary-color);
      border-radius: var(--radius-round);
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      color: var(--text-color-secondary);
      font-size: var(--fs-base);
      font-weight: 600;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .container {
        padding: var(--space-sm);
      }

      .header {
        padding: var(--space-lg) var(--space-sm) var(--space-sm);
      }

      .intro-content,
      .question-card,
      .ai-content {
        padding: var(--space-lg);
      }

      .theme-toggle {
        top: var(--space-sm);
        right: var(--space-sm);
        width: 44px;
        height: 44px;
      }
    }

    @media (max-width: 380px) {
      .header h1 {
        font-size: 22px;
      }

      .question-text {
        font-size: 18px;
      }

      .intro-content,
      .question-card,
      .ai-content {
        padding: var(--space-md);
      }

      .dimension-code {
        font-size: 18px;
      }

      .type-code-value {
        font-size: 28px;
      }
    }
  </style>
</head>
<body id="body">
  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" aria-label="–°–º–µ–Ω–∏ —Ç–µ–º–∞—Ç–∞">
    <span id="themeIcon">üåô</span>
  </button>

  <div class="container">
    <!-- Intro Screen -->
    <div id="screenIntro" class="screen active">
      <div class="header">
        <h1>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ–ø—Ä–æ—Ñ–∏–ª</h1>
        <p>–ö—Ä–∞—Ç—ä–∫ —Ç–µ—Å—Ç –∑–∞ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏</p>
      </div>
      <div class="intro-content">
        <h2>–î–æ–±—Ä–µ –¥–æ—à–ª–∏!</h2>
        <p>–¢–æ–∑–∏ —Ç–µ—Å—Ç —Å—ä–¥—ä—Ä–∂–∞ 13 –≤—ä–ø—Ä–æ—Å–∞, –∫–æ–∏—Ç–æ –ø–æ–º–∞–≥–∞—Ç –¥–∞ —Å–µ –æ—Ü–µ–Ω–∏ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏—è—Ç –≤–∏ –ø—Ä–æ—Ñ–∏–ª –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ –≤—Ä—ä–∑–∫–∏ —Å —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –Ω–∞–≤–∏—Ü–∏.</p>
        <ul>
          <li>–í—Å–µ–∫–∏ –≤—ä–ø—Ä–æ—Å –∏–º–∞ —Ç—Ä–∏ —Ä–∞–≤–Ω–æ—Å—Ç–æ–π–Ω–∏ –æ–ø—Ü–∏–∏</li>
          <li>–ò–∑–±–µ—Ä–µ—Ç–µ –æ–ø—Ü–∏—è—Ç–∞, –∫–æ—è—Ç–æ –µ <strong>–Ω–∞–π-–±–ª–∏–∑–∫–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä</strong> –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏</li>
          <li>–ù—è–º–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏ –∏–ª–∏ –≥—Ä–µ—à–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏</li>
          <li>–û—Ç–≥–æ–≤–∞—Ä—è–π—Ç–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ, –±–µ–∑ –¥–∞ –º–∏—Å–ª–∏—Ç–µ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –¥—ä–ª–≥–æ</li>
          <li>–¢–µ—Å—Ç—ä—Ç –æ—Ç–Ω–µ–º–∞ –æ–∫–æ–ª–æ 4-6 –º–∏–Ω—É—Ç–∏</li>
        </ul>
        <button class="btn btn-primary" onclick="startTest()">–ó–∞–ø–æ—á–Ω–∏ —Ç–µ—Å—Ç–∞</button>
        <a href="../index.html" class="btn btn-secondary">–ù–∞–∑–∞–¥ –∫—ä–º –≥–ª–∞–≤–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      </div>
    </div>

    <!-- Questions Screen -->
    <div id="screenQuestions" class="screen">
      <div class="header">
        <h1>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ–ø—Ä–æ—Ñ–∏–ª</h1>
      </div>
      
      <div class="progress-container">
        <div class="progress-info">
          <span>–í—ä–ø—Ä–æ—Å <span id="currentQuestion">1</span> –æ—Ç <span id="totalQuestions">13</span></span>
          <span id="progressPercent">8%</span>
        </div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill" style="width: 8%"></div>
        </div>
      </div>

      <div id="questionContainer"></div>

      <div class="navigation">
        <button class="btn btn-secondary" id="btnPrevious" onclick="previousQuestion()" style="display: none">–ù–∞–∑–∞–¥</button>
        <button class="btn btn-primary" id="btnNext" onclick="nextQuestion()" disabled>–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å</button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="screenResults" class="screen">
      <div class="header">
        <h1>–í–∞—à–∏—Ç–µ –†–µ–∑—É–ª—Ç–∞—Ç–∏</h1>
      </div>
      
      <div class="results-header">
        <h2>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ø—Ä–æ—Ñ–∏–ª</h2>
        <p>–í–∞—à–∏—Ç–µ –æ—Ü–µ–Ω–∫–∏ –ø–æ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è</p>
      </div>

      <div id="dimensionsContainer"></div>

      <div id="typeCodeContainer"></div>

      <div id="flagsContainer"></div>

      <div class="ai-section">
        <h3>
          AI –ê–Ω–∞–ª–∏–∑ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏
          <span class="ai-badge">AI Powered</span>
        </h3>
        <div id="aiAnalysisContainer" class="ai-content">
          <div class="loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ...</div>
          </div>
        </div>
      </div>

      <div class="navigation">
        <button class="btn btn-secondary" onclick="restartTest()">–ó–∞–ø–æ—á–Ω–∏ –æ—Ç–Ω–æ–≤–æ</button>
        <a href="../index.html" class="btn btn-primary" style="text-decoration: none">–ö—ä–º –≥–ª–∞–≤–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      </div>
    </div>
  </div>

  <script>
    // Test data loaded from JSON files
    const testData = {
      "meta": {
        "id": "bb_optional_personality_v1_1",
        "title": "–ö—Ä–∞—Ç—ä–∫ –ª–∏—á–Ω–æ—Å—Ç–µ–Ω –º–æ–¥—É–ª (–ø–æ –∏–∑–±–æ—Ä)",
        "language": "bg",
        "version": "1.1.0",
        "questions_count": 13
      },
      "items": [
        {
          "id": "psy_01",
          "text": "–ö–æ–≥–∞—Ç–æ —Å–µ –∑–∞–µ–º–∞–º —Å –Ω–æ–≤–∞ —Ü–µ–ª...?",
          "type": "radio",
          "options": [
            "–ü—Ä–∞–≤—è —Ç–æ—á–µ–Ω –ø–ª–∞–Ω –∏ —Å—Ç—ä–ø–∫–∏, –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–∞",
            "–ü—Ä–∞–≤—è –æ–±—â–∞ —Ä–∞–º–∫–∞ –∏ –ø—Ä–µ—Ü–∏–∑–∏—Ä–∞–º –ø–æ –ø—ä—Ç—è",
            "–ó–∞–ø–æ—á–≤–∞–º –≤–µ–¥–Ω–∞–≥–∞ –∏ –æ—Ñ–æ—Ä–º—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_02",
          "text": "–í —Å–≤–æ–±–æ–¥–Ω–æ—Ç–æ —Å–∏ –≤—Ä–µ–º–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º...?",
          "type": "radio",
          "options": [
            "–ü–æ–∑–Ω–∞—Ç–∞ –¥–µ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –≤–µ—á–µ –µ –¥–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–∏—è—Ç–Ω–∞",
            "–ù–µ—â–æ –Ω–æ–≤–æ/–Ω–µ–ø–æ–∑–Ω–∞—Ç–æ, –∑–∞ –¥–∞ –ø—Ä–æ–±–≤–∞–º –∏ –¥–∞ –Ω–∞—É—á–∞",
            "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è: –ø–æ–∑–Ω–∞—Ç–æ + –º–∞–ª—ä–∫ –µ–ª–µ–º–µ–Ω—Ç –Ω–∞ –Ω–æ–≤–æ—Å—Ç"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_03",
          "text": "–°–ª–µ–¥ —Ç–µ–∂—ä–∫ –¥–µ–Ω –∏–º–∞–º –Ω—É–∂–¥–∞ –æ—Ç...?",
          "type": "radio",
          "options": [
            "–í—Ä–µ–º–µ –Ω–∞—Å–∞–º–µ –∏ —Ç–∏—à–∏–Ω–∞",
            "–ö–æ–Ω—Ç–∞–∫—Ç —Å —Ö–æ—Ä–∞ (–ø—Ä–∏—è—Ç–µ–ª–∏/–µ–∫–∏–ø), —Ä–∞–∑–≥–æ–≤–æ—Ä, –¥–≤–∏–∂–µ–Ω–∏–µ",
            "–ú–∞–ª–∫–∞ —Å–æ—Ü–∏–∞–ª–Ω–æ—Å—Ç + –ø–æ—Å–ª–µ –≤—Ä–µ–º–µ –Ω–∞—Å–∞–º–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_04",
          "text": "–ü—Ä–∏ –≤–∑–µ–º–∞–Ω–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –≤ —Ç—Ä—É–¥–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è...?",
          "type": "radio",
          "options": [
            "–°—ä–±–∏—Ä–∞–º –æ—â–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —á–∞–∫ —Ç–æ–≥–∞–≤–∞ —Ä–µ—à–∞–≤–∞–º",
            "–†–µ—à–∞–≤–∞–º –±—ä—Ä–∑–æ –∏ –ø–æ—Å–ª–µ –∫–æ—Ä–∏–≥–∏—Ä–∞–º –ø—Ä–∏ –Ω—É–∂–¥–∞",
            "–ü–∏—Ç–∞–º/—Å–≤–µ—Ä—è–≤–∞–º —Å –¥–æ–≤–µ—Ä–µ–Ω —á–æ–≤–µ–∫ –∏ –¥–µ–π—Å—Ç–≤–∞–º"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_05",
          "text": "–í –Ω–∞–ø—Ä–µ–≥–Ω–∞—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä...?",
          "type": "radio",
          "options": [
            "–ó–∞—è–≤—è–≤–∞–º –¥–∏—Ä–µ–∫—Ç–Ω–æ –∏ —è—Å–Ω–æ –º–Ω–µ–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç–∞",
            "–ò–∑—á–∞–∫–≤–∞–º –¥–∞ —Å–ø–∞–¥–Ω–µ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ—Ç–æ –∏ –ø–æ—Å–ª–µ –æ–±—Å—ä–∂–¥–∞–º",
            "–¢—ä—Ä—Å—è –º–µ–∫ –ø–æ–¥—Ö–æ–¥: –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–æ–Ω, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ —Å—Ç—ä–ø–∫–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_06",
          "text": "–ö–æ–≥–∞—Ç–æ —Ä–∞–±–æ—Ç—è –ø–æ–¥ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ...?",
          "type": "radio",
          "options": [
            "–§–æ–∫—É—Å–∏—Ä–∞–º —Å–µ –∏ —Å—Ç–∞–≤–∞–º –ø–æ-–µ—Ñ–µ–∫—Ç–∏–≤–µ–Ω/–∞",
            "–°—Ç–∞–≤–∞–º –ø–æ-—Ä–∞–∑–¥—Ä–∞–∑–Ω–∏—Ç–µ–ª–µ–Ω/–∞ –æ—Ç —Ä–∞–∑—Å–µ–π–≤–∞—â–∏ —Ñ–∞–∫—Ç–æ—Ä–∏",
            "–¢—ä—Ä—Å—è –æ–ø–æ—Ä–∞: —Ä—É—Ç–∏–Ω–∞, –ø—Ä–∞–≤–∏–ª–∞, —è—Å–Ω–∏ –≥—Ä–∞–Ω–∏—Ü–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_07",
          "text": "–ù—É–∂–¥–∞—Ç–∞ –º–∏ –æ—Ç –ø–æ–¥–∫—Ä–µ–ø–∞ –µ...?",
          "type": "radio",
          "options": [
            "–ß–µ—Å—Ç–æ –∏ –Ω–∞ –º–∞–ª–∫–∏ —Å—Ç—ä–ø–∫–∏",
            "–°–∞–º–æ –ø–æ –∫–ª—é—á–æ–≤–∏ –µ—Ç–∞–ø–∏/–Ω–∞ —Ñ–∏–Ω–∞–ª–∞",
            "–ü–æ –ø–æ–∏—Å–∫–≤–∞–Ω–µ: –∞–∑ —Ä–µ—à–∞–≤–∞–º –∫–æ–≥–∞ –¥–∞ —è –ø–æ—Ç—ä—Ä—Å—è"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_08",
          "text": "–í —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞ —Ä–∏—Å–∫ –∏ –ø–µ—á–∞–ª–±–∞...?",
          "type": "radio",
          "options": [
            "–ò–∑–±–∏—Ä–∞–º —Å–∏–≥—É—Ä–Ω–æ—Ç–æ –∏ –ø—Ä–µ–¥–≤–∏–¥–∏–º–æ—Ç–æ",
            "–ò–∑–±–∏—Ä–∞–º –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ: —Å—Ä–µ–¥–µ–Ω —Ä–∏—Å–∫ –∑–∞ —Å—Ä–µ–¥–Ω–∞ –ø–æ–ª–∑–∞",
            "–ú–æ—è—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ –≤—Å–∏—á–∫–æ –∏–ª–∏ –Ω–∏—â–æ."
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_09",
          "text": "–ö–æ–≥–∞—Ç–æ –∏–º–∞–º —Å—Ä–æ–∫...?",
          "type": "radio",
          "options": [
            "–ó–∞–ø–æ—á–≤–∞–º —Ä–∞–Ω–æ –∏ –ø—Ä–∞–≤—è –ø–æ –º–∞–ª–∫–æ, –Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ",
            "–ó–∞–ø–æ—á–≤–∞–º –ø–æ —Å—Ä–µ–¥–∞—Ç–∞ –∏ –ø–æ–¥–¥—ä—Ä–∂–∞–º —Ç–µ–º–ø–æ –¥–æ —Ñ–∏–Ω–∞–ª–∞",
            "–†–∞–±–æ—Ç—è –Ω–∞–π-–¥–æ–±—Ä–µ –Ω–∞ —Ñ–∏–Ω–∞–ª–µ–Ω —Å–ø—Ä–∏–Ω—Ç"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_10",
          "text": "–ü—Ä–∏ –∏–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ —É–º–µ–Ω–∏—è...?",
          "type": "radio",
          "options": [
            "–°–ª–µ–¥–≤–∞–º —è—Å–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω –ø–ª–∞–Ω",
            "–ü—Ä–æ–±–≤–∞–º —á—Ä–µ–∑ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∏ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ",
            "–û–ø–∏—Ç–≤–∞–º —Å–µ –¥–∞ —Å—ä—á–µ—Ç–∞—è –ø—Ä–∏–º–µ—Ä/–º–µ–Ω—Ç–æ—Ä + –¥–µ–π—Å—Ç–≤–∏–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_12",
          "text": "–ü—Ä–∏ –º–∞–ª–∫–∞ –ø–æ–ª–∑–∞ –≤–µ–¥–Ω–∞–≥–∞ –∏ –ø–æ-–≥–æ–ª—è–º–∞ —Å–ª–µ–¥ –≤—Ä–µ–º–µ...?",
          "type": "radio",
          "options": [
            "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º –º–∞–ª–∫–∞—Ç–∞ –ø–æ–ª–∑–∞ –≤–µ–¥–Ω–∞–≥–∞",
            "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º –ø–æ-–≥–æ–ª—è–º–∞—Ç–∞ –ø–æ–ª–∑–∞ –ø–æ-–∫—ä—Å–Ω–æ",
            "–¢—Ä—è–±–≤–∞ –¥–æ–±—Ä–µ –¥–∞ –æ–±–º–∏—Å–ª—è —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_13",
          "text": "–ó–∞ –¥–∞ —Å—ä–º –æ—Ç–¥–∞–¥–µ–Ω –∏–º–∞–º –Ω—É–∂–¥–∞ –æ—Ç...?",
          "type": "radio",
          "options": [
            "–°–∏–≥—É—Ä–Ω–æ—Å—Ç, –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ, –Ω–∞–≤–∏—Ü–∏",
            "–ß–µ—Å—Ç–∞ –ø—Ä–æ–º—è–Ω–∞ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ",
            "–†—É—Ç–∏–Ω–∞ –∏ –Ω–æ–≤–∏ –µ–ª–µ–º–µ–Ω—Ç–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_14",
          "text": "–ö–æ–≥–∞—Ç–æ –≤—ä–∑–Ω–∏–∫–Ω–µ —Å–∏–ª–Ω–∞ –µ–º–æ—Ü–∏—è...?",
          "type": "radio",
          "options": [
            "–ò–∑—Ä–∞–∑—è–≤–∞–º —è –≤–µ–¥–Ω–∞–≥–∞ –∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ",
            "–û–±—Ä–∞–±–æ—Ç–≤–∞–º —è –≤—ä—Ç—Ä–µ—à–Ω–æ –∏ —Å–ª–µ–¥ —Ç–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∞–º",
            "–¢—ä—Ä—Å—è –¥–∏–∞–ª–æ–≥ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∑–∞ –¥–∞ —Å–∏ —è –ø–æ–¥—Ä–µ–¥—è"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        }
      ]
    };

    const scoringKey = {
      "psy_01": [
        {"C": 2, "O": -1, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 1, "E": 1, "A": 0, "N": 0, "I": 1, "R": 0}
      ],
      "psy_02": [
        {"C": 0, "O": -1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 2, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_03": [
        {"C": 0, "O": 0, "E": -2, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 0, "E": 2, "A": 1, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_04": [
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": -1, "R": -1},
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 0, "I": 1, "R": 1},
        {"C": 0, "O": 0, "E": 0, "A": 2, "N": 0, "I": 0, "R": 0}
      ],
      "psy_05": [
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 1, "I": 0, "R": 0},
        {"C": 1, "O": 0, "E": -1, "A": 0, "N": 1, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 2, "N": 0, "I": 0, "R": 0}
      ],
      "psy_06": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": -1, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 0, "A": -1, "N": 2, "I": 1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 1, "I": 0, "R": 0}
      ],
      "psy_07": [
        {"C": 0, "O": 0, "E": 0, "A": 1, "N": 1, "I": 0, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_08": [
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": -2},
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 1, "A": -1, "N": 1, "I": 1, "R": 2}
      ],
      "psy_09": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 0, "A": 0, "N": 1, "I": 2, "R": 0}
      ],
      "psy_10": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 2, "E": 0, "A": 0, "N": 0, "I": 1, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 1, "N": 0, "I": 0, "R": 0}
      ],
      "psy_12": [
        {"C": -1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 2, "R": 0},
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_13": [
        {"C": 2, "O": -1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 2, "E": 0, "A": 0, "N": 0, "I": 1, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_14": [
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 1, "I": 1, "R": 0},
        {"C": 1, "O": 0, "E": -1, "A": 0, "N": -1, "I": -1, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 1, "N": 0, "I": 0, "R": 0}
      ]
    };

    const dimensionInfo = {
      "E": {
        "name": "–°–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è",
        "description": "–æ–±—â–∏—Ç–µ–ª–Ω–æ—Å—Ç –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è",
        "lowLabel": "X (–ø–æ-–∑–∞—Ç–≤–æ—Ä–µ–Ω)",
        "highLabel": "E (–ø–æ-–æ–±—â–∏—Ç–µ–ª–µ–Ω)",
        "threshold": 60
      },
      "C": {
        "name": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞",
        "description": "–æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω–æ—Å—Ç –∏ —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª",
        "lowLabel": "P (–ø–æ-–≥—ä–≤–∫–∞–≤)",
        "highLabel": "J (–ø–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω)",
        "threshold": 60
      },
      "O": {
        "name": "–û—Ç–≤–æ—Ä–µ–Ω–æ—Å—Ç –∫—ä–º –Ω–æ–≤–æ—Ç–æ",
        "description": "–Ω–æ–≤–∞—Ç–æ—Ä—Å—Ç–≤–æ –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª–Ω–æ—Å—Ç",
        "lowLabel": "S (–ø–æ-–ø—Ä–∞–∫—Ç–∏—á–µ–Ω)",
        "highLabel": "V (–ø–æ-–Ω–æ–≤–∞—Ç–æ—Ä—Å–∫–∏)",
        "threshold": 60
      },
      "A": {
        "name": "–ú–µ–∫–æ—Ç–∞ –≤ –∫–æ–Ω—Ç–∞–∫—Ç",
        "description": "—Å—ä–≥–ª–∞—Å—É–≤–∞–Ω–æ—Å—Ç –∏ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç",
        "lowLabel": "D (–ø–æ-–¥–∏—Ä–µ–∫—Ç–µ–Ω)",
        "highLabel": "M (–ø–æ-–º–µ–∫)",
        "threshold": 60
      },
      "N": {
        "name": "–ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç",
        "description": "—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ—Å—Ç –∫—ä–º —Å—Ç—Ä–µ—Å",
        "lowLabel": "–°—Ç–∞–±–∏–ª–µ–Ω",
        "highLabel": "–†–µ–∞–∫—Ç–∏–≤–µ–Ω",
        "threshold": 65
      },
      "I": {
        "name": "–ò–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç",
        "description": "—Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º –º–æ–º–µ–Ω—Ç–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è",
        "lowLabel": "–ü–ª–∞–Ω–∏—Ä–∞—â",
        "highLabel": "–ò–º–ø—É–ª—Å–∏–≤–µ–Ω",
        "threshold": 65
      },
      "R": {
        "name": "–†–∏—Å–∫–æ–≤–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è",
        "description": "—Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º –Ω–µ—Å–∏–≥—É—Ä–Ω–æ—Å—Ç",
        "lowLabel": "–ü—Ä–µ–¥–ø–∞–∑–ª–∏–≤",
        "highLabel": "–†–∏—Å–∫–æ–≤",
        "threshold": 65
      }
    };

    // State
    let currentQuestionIndex = 0;
    let answers = {};
    const questions = testData.items;

    // Functions
    function startTest() {
      showScreen('screenQuestions');
      renderQuestion();
    }

    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
    }

    function renderQuestion() {
      const question = questions[currentQuestionIndex];
      const container = document.getElementById('questionContainer');
      
      const html = `
        <div class="question-card">
          <div class="question-number">–í—ä–ø—Ä–æ—Å ${currentQuestionIndex + 1}</div>
          <div class="question-text">${question.text}</div>
          <div class="options" id="options">
            ${question.options.map((opt, idx) => `
              <div class="option" data-index="${idx}" onclick="selectOption(${idx})">
                <div class="option-radio"></div>
                <div class="option-text">${opt}</div>
              </div>
            `).join('')}
          </div>
          <div class="legend">${question.legend}</div>
        </div>
      `;
      
      container.innerHTML = html;
      
      // Restore previous answer if exists
      if (answers[question.id] !== undefined) {
        selectOption(answers[question.id], false);
      }
      
      updateProgress();
      updateNavigation();
    }

    function selectOption(index, enableNext = true) {
      const options = document.querySelectorAll('.option');
      options.forEach(opt => opt.classList.remove('selected'));
      options[index].classList.add('selected');
      
      const question = questions[currentQuestionIndex];
      answers[question.id] = index;
      
      if (enableNext) {
        document.getElementById('btnNext').disabled = false;
      }
    }

    function nextQuestion() {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        renderQuestion();
      } else {
        calculateAndShowResults();
      }
    }

    function previousQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
      }
    }

    function updateProgress() {
      const current = currentQuestionIndex + 1;
      const total = questions.length;
      const percent = Math.round((current / total) * 100);
      
      document.getElementById('currentQuestion').textContent = current;
      document.getElementById('totalQuestions').textContent = total;
      document.getElementById('progressPercent').textContent = percent + '%';
      document.getElementById('progressFill').style.width = percent + '%';
    }

    function updateNavigation() {
      const btnPrevious = document.getElementById('btnPrevious');
      const btnNext = document.getElementById('btnNext');
      
      btnPrevious.style.display = currentQuestionIndex > 0 ? 'block' : 'none';
      
      const question = questions[currentQuestionIndex];
      const hasAnswer = answers[question.id] !== undefined;
      btnNext.disabled = !hasAnswer;
      
      if (currentQuestionIndex === questions.length - 1) {
        btnNext.textContent = '–í–∏–∂ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ';
      } else {
        btnNext.textContent = '–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å';
      }
    }

    function calculateScores() {
      const rawScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      const minScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      const maxScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      
      // Calculate raw scores
      questions.forEach(q => {
        const answerIndex = answers[q.id];
        const scoring = scoringKey[q.id][answerIndex];
        
        Object.keys(scoring).forEach(dim => {
          rawScores[dim] += scoring[dim];
        });
      });
      
      // Calculate min/max possible scores
      questions.forEach(q => {
        const scorings = scoringKey[q.id];
        
        Object.keys(rawScores).forEach(dim => {
          const values = scorings.map(s => s[dim]);
          minScores[dim] += Math.min(...values);
          maxScores[dim] += Math.max(...values);
        });
      });
      
      // Normalize to 0-100
      const normalizedScores = {};
      Object.keys(rawScores).forEach(dim => {
        const raw = rawScores[dim];
        const min = minScores[dim];
        const max = maxScores[dim];
        const range = max - min;
        
        if (range === 0) {
          normalizedScores[dim] = 50;
        } else {
          normalizedScores[dim] = Math.round(((raw - min) / range) * 100);
        }
      });
      
      return normalizedScores;
    }

    async function calculateAndShowResults() {
      const scores = calculateScores();
      
      showScreen('screenResults');
      renderDimensions(scores);
      renderTypeCode(scores);
      renderFlags(scores);
      const analysis = analyzeNutritionalRisks(scores);
      
      // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ
      await saveResults(scores, analysis);
      
      // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ AI –∞–Ω–∞–ª–∏–∑–∞
      setTimeout(() => {
        renderAIAnalysis(analysis);
      }, 1500);
    }

    function renderDimensions(scores) {
      const container = document.getElementById('dimensionsContainer');
      const dimensions = ['E', 'C', 'O', 'A', 'N', 'I', 'R'];
      
      const html = dimensions.map(dim => {
        const info = dimensionInfo[dim];
        const score = scores[dim];
        
        return `
          <div class="dimension-card">
            <div class="dimension-header">
              <div class="dimension-name">${info.name}</div>
              <div class="dimension-code">${dim}</div>
            </div>
            <div class="dimension-description">${info.description}</div>
            <div class="score-bar-container">
              <div class="score-bar-labels">
                <span>${info.lowLabel}</span>
                <span>${info.highLabel}</span>
              </div>
              <div class="score-bar">
                <div class="score-marker" style="left: ${score}%"></div>
              </div>
              <div class="score-value">${score} / 100</div>
            </div>
          </div>
        `;
      }).join('');
      
      container.innerHTML = html;
    }

    function renderTypeCode(scores) {
      const container = document.getElementById('typeCodeContainer');
      
      // Generate 4-axis type code (E-O-A-C)
      const E_code = scores.E >= dimensionInfo.E.threshold ? 'E' : 'X';
      const O_code = scores.O >= dimensionInfo.O.threshold ? 'V' : 'S';
      const A_code = scores.A >= dimensionInfo.A.threshold ? 'M' : 'D';
      const C_code = scores.C >= dimensionInfo.C.threshold ? 'J' : 'P';
      
      const typeCode = `${E_code}-${O_code}-${A_code}-${C_code}`;
      
      const html = `
        <div class="type-code-card">
          <div class="type-code-label">–í–∞—à–∏—è—Ç –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–µ–Ω –∫–æ–¥</div>
          <div class="type-code-value">${typeCode}</div>
        </div>
      `;
      
      container.innerHTML = html;
    }

    function renderFlags(scores) {
      const container = document.getElementById('flagsContainer');
      const flags = [];
      
      if (scores.I >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç',
          description: '–ü–æ-—Å–∏–ª–µ–Ω –∏–º–ø—É–ª—Å "—Å–µ–≥–∞" - —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º –±—ä—Ä–∑–∏ —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ –∑–∞–¥—ä–ª–±–æ—á–µ–Ω –∞–Ω–∞–ª–∏–∑.',
          type: 'warning'
        });
      }
      
      if (scores.N >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç',
          description: '–ü–æ-–≤–∏—Å–æ–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ—Å—Ç –∫—ä–º —Å—Ç—Ä–µ—Å –∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Å—Ç–∏–º—É–ª–∏.',
          type: 'warning'
        });
      }
      
      if (scores.R >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º —Ä–∏—Å–∫',
          description: '–ü–æ-–≤–∏—Å–æ–∫–∞ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º –Ω–µ—Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ —Ä–∏—Å–∫–æ–≤–∏ —Å–∏—Ç—É–∞—Ü–∏–∏.',
          type: 'warning'
        });
      }
      
      if (flags.length === 0) {
        container.innerHTML = '';
        return;
      }
      
      const html = `
        <div class="flags-section">
          <h3>–û–±–ª–∞—Å—Ç–∏ –Ω–∞ –≤–Ω–∏–º–∞–Ω–∏–µ</h3>
          ${flags.map(flag => `
            <div class="flag-card ${flag.type}">
              <div class="flag-title">${flag.title}</div>
              <div class="flag-description">${flag.description}</div>
            </div>
          `).join('')}
        </div>
      `;
      
      container.innerHTML = html;
    }

    // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –≤ localStorage –∏ backend
    async function saveResults(scores, analysis) {
      try {
        const timestamp = new Date().toISOString();
        
        // –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ type code
        const E_code = scores.E >= dimensionInfo.E.threshold ? 'E' : 'X';
        const O_code = scores.O >= dimensionInfo.O.threshold ? 'V' : 'S';
        const A_code = scores.A >= dimensionInfo.A.threshold ? 'M' : 'D';
        const C_code = scores.C >= dimensionInfo.C.threshold ? 'J' : 'P';
        const typeCode = `${E_code}-${O_code}-${A_code}-${C_code}`;
        
        // –°—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ risk flags
        const riskFlags = [];
        if (scores.I >= 65) riskFlags.push('–í–∏—Å–æ–∫–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç');
        if (scores.N >= 65) riskFlags.push('–í–∏—Å–æ–∫–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç');
        if (scores.R >= 65) riskFlags.push('–í–∏—Å–æ–∫–∞ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º —Ä–∏—Å–∫');
        
        // –°—ä–∫—Ä–∞—Ç–µ–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ - —Å–∞–º–æ –µ—Å–µ–Ω—Ü–∏–∞–ª–Ω–∞—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        const personalityTest = {
          typeCode: typeCode,
          scores: scores,
          riskFlags: riskFlags,
          strengths: analysis.strengths || [],
          mainRisks: analysis.risks.slice(0, 2).map(r => r.title), // –°–∞–º–æ –ø—ä—Ä–≤–∏—Ç–µ 2 —Ä–∏—Å–∫–æ–≤–∏ –æ–±–ª–∞—Å—Ç–∏
          topRecommendations: analysis.recommendations.slice(0, 3), // –°–∞–º–æ —Ç–æ–ø 3 –ø—Ä–µ–ø–æ—Ä—ä–∫–∏
          timestamp: timestamp
        };
        
        // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –≤ localStorage
        const existingData = JSON.parse(localStorage.getItem('psychTests') || '{}');
        existingData.personalityTest = personalityTest;
        localStorage.setItem('psychTests', JSON.stringify(existingData));
        
        // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –≤ backend
        const userId = localStorage.getItem('userId');
        if (userId) {
          const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
            ? 'http://localhost:8787'
            : 'https://bodybest-backend.radilovka88.workers.dev';
          
          const response = await fetch(`${API_BASE}/api/savePsychTests`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              userId: userId,
              personalityTest: personalityTest
            })
          });
          
          const result = await response.json();
          
          if (result.success) {
            console.log('–†–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —É—Å–ø–µ—à–Ω–æ –≤ backend');
            localStorage.setItem('psychTestsLastSync', timestamp);
            
            // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ success —Å—ä–æ–±—â–µ–Ω–∏–µ
            showSaveSuccessMessage();
          } else {
            console.warn('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –≤ backend:', result.message);
            // –ó–∞–ø–∞–∑–≤–∞–º–µ –ª–æ–∫–∞–ª–Ω–æ, –¥–æ—Ä–∏ –∞–∫–æ backend –µ –Ω–µ–¥–æ—Å—Ç—ä–ø–µ–Ω
            showSaveWarningMessage();
          }
        } else {
          console.log('–ù—è–º–∞ userId - —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —Å–∞–º–æ –ª–æ–∫–∞–ª–Ω–æ');
          showSaveWarningMessage();
        }
      } catch (error) {
        console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ:', error);
        // –ü—Ä–∏ –≥—Ä–µ—à–∫–∞ –ø–æ–Ω–µ –∑–∞–ø–∞–∑–≤–∞–º–µ –ª–æ–∫–∞–ª–Ω–æ
        showSaveWarningMessage();
      }
    }
    
    function showSaveSuccessMessage() {
      const container = document.getElementById('aiAnalysisContainer');
      container.insertAdjacentHTML('afterbegin', `
        <div style="background: color-mix(in srgb, var(--primary-color) 15%, var(--card-bg)); 
                    border-left: 4px solid var(--primary-color); 
                    padding: var(--space-md); 
                    border-radius: var(--radius-md); 
                    margin-bottom: var(--space-md);">
          <p style="margin: 0; color: var(--text-color-primary); font-weight: 600;">
            ‚úì –†–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —É—Å–ø–µ—à–Ω–æ!
          </p>
          <p style="margin: var(--space-xs) 0 0 0; font-size: var(--fs-sm); color: var(--text-color-secondary);">
            –ú–æ–∂–µ—Ç–µ –¥–∞ –≤–∏–¥–∏—Ç–µ –≤–∞—à–∏—è –ø—Å–∏—Ö–æ–ø—Ä–æ—Ñ–∏–ª –≤ —Å–µ–∫—Ü–∏—è "–ü—Ä–æ—Ñ–∏–ª" –≤ –≥–ª–∞–≤–Ω–æ—Ç–æ —Ç–∞–±–ª–æ.
          </p>
        </div>
      `);
    }
    
    function showSaveWarningMessage() {
      const container = document.getElementById('aiAnalysisContainer');
      container.insertAdjacentHTML('afterbegin', `
        <div style="background: color-mix(in srgb, var(--accent-color) 10%, var(--card-bg)); 
                    border-left: 4px solid var(--accent-color); 
                    padding: var(--space-md); 
                    border-radius: var(--radius-md); 
                    margin-bottom: var(--space-md);">
          <p style="margin: 0; color: var(--text-color-primary); font-weight: 600;">
            ‚ö† –†–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ –ª–æ–∫–∞–ª–Ω–æ
          </p>
          <p style="margin: var(--space-xs) 0 0 0; font-size: var(--fs-sm); color: var(--text-color-secondary);">
            –í–ª–µ–∑—Ç–µ –≤ –ø—Ä–æ—Ñ–∏–ª–∞ —Å–∏, –∑–∞ –¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å –≤–∞—à–∏—è –∞–∫–∞—É–Ω—Ç.
          </p>
        </div>
      `);
    }

    function simplifyText(text, maxSentences = 2) {
      const clean = text.replace(/"([^"]*)"/g, '$1').replace(/[‚Äû‚Äú]/g, '');
      const parts = clean.split('.').map(p => p.trim()).filter(Boolean);
      if (parts.length === 0) {
        const trimmed = clean.trim();
        return trimmed && /[.!?]$/.test(trimmed) ? trimmed : `${trimmed}.`;
      }
      const simplified = parts.slice(0, maxSentences).join('. ');
      const withPeriod = /[.!?]$/.test(simplified) ? simplified : `${simplified}.`;
      return withPeriod + (parts.length > maxSentences ? '‚Ä¶' : '');
    }

    function simplifyList(list, limit = 5, sentences = 1) {
      const unique = Array.from(new Set(list.map(item => simplifyText(item, sentences))));
      return unique.slice(0, limit);
    }

    function analyzeNutritionalRisks(scores) {
      const risks = [];
      const recommendations = [];
      const strengths = [];
      const behavioralPatterns = [];
      
      // High Conscientiousness (C >= 70) + High Neuroticism (N >= 65)
      if (scores.C >= 70 && scores.N >= 65) {
        risks.push({
          title: '–†–µ—Å—Ç—Ä–∏–∫—Ç–∏–≤–Ω–∏ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏ –∏ –æ—Ä—Ç–æ–Ω–µ–∫—Å–∏—è',
          description: '–ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –≤–∏—Å–æ–∫–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —Ç–≤—ä—Ä–¥–µ —Å—Ç—Ä–æ–≥–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ–∂–∏–º–∏, –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑—ä–º –æ–∫–æ–ª–æ —Ö—Ä–∞–Ω–∞—Ç–∞ –∏ –ø—Ä–µ–∫–æ–º–µ—Ä–Ω–∞ —Ñ–∏–∫—Å–∞—Ü–∏—è –≤—ä—Ä—Ö—É "—á–∏—Å—Ç–æ—Ç–æ" —Ö—Ä–∞–Ω–µ–Ω–µ. –í—ä–∑–º–æ–∂–Ω–∏ –ø—Ä–∏–∑–Ω–∞—Ü–∏: —Å—Ç—Ä–æ–≥–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –∫–∞–ª–æ—Ä–∏–∏/–º–∞–∫—Ä–æ—Å–∏, —Å—Ç—Ä–∞—Ö –æ—Ç "–∑–∞–º—ä—Ä—Å—è–≤–∞–Ω–µ" –Ω–∞ –¥–∏–µ—Ç–∞—Ç–∞, —Å–∏–ª–Ω–∞ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –ø–ª–∞–Ω–∞, —Å–æ—Ü–∏–∞–ª–Ω–∞ –∏–∑–æ–ª–∞—Ü–∏—è –∑–∞—Ä–∞–¥–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.'
        });
        behavioralPatterns.push('–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –ø—Ä–µ—Ç–µ–≥–ª—è–Ω–µ –Ω–∞ –ø–æ—Ä—Ü–∏–∏—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –µ—Ç–∏–∫–µ—Ç–∏—Ç–µ');
        behavioralPatterns.push('–ò–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –∫—ä–¥–µ—Ç–æ —Ö—Ä–∞–Ω–∞—Ç–∞ –Ω–µ –µ "–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞"');
        behavioralPatterns.push('–£—Å–µ—â–∞–Ω–µ –∑–∞ –≤–∏–Ω–∞ –∏–ª–∏ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç —Å–ª–µ–¥ "–Ω–µ—Å—ä–≤—ä—Ä—à–µ–Ω–æ" —Ö—Ä–∞–Ω–µ–Ω–µ');
        behavioralPatterns.push('–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞—Ç–æ "–¥–æ–±—Ä–∏" –∏ "–ª–æ—à–∏" –±–µ–∑ –Ω—é–∞–Ω—Å–∏');
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ –≥—ä–≤–∫–∞–≤–æ—Å—Ç –≤ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ - –ø–æ–∑–≤–æ–ª–µ—Ç–µ —Å–∏ 10-20% –æ—Ç –∫–∞–ª–æ—Ä–∏–∏—Ç–µ –∑–∞ —Ö—Ä–∞–Ω–∏ "–∑–∞ —É–¥–æ–≤–æ–ª—Å—Ç–≤–∏–µ"');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –∏ —É—Å—Ç–æ–π—á–∏–≤ –ø–ª–∞–Ω');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞ —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∑–∞ –ø—Ä–µ–æ–¥–æ–ª—è–≤–∞–Ω–µ –Ω–∞ "–≤—Å–∏—á–∫–æ –∏–ª–∏ –Ω–∏—â–æ" –º–∏—Å–ª–µ–Ω–µ—Ç–æ');
        recommendations.push('–ù–∞–±–ª—é–¥–∞–≤–∞–π—Ç–µ –∑–∞ —Ä–∞–Ω–Ω–∏ –ø—Ä–∏–∑–Ω–∞—Ü–∏ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–æ —Ä–∞–∑—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –ø–æ—Ç—ä—Ä—Å–µ—Ç–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –ø–æ–º–æ—â –ø—Ä–∏ –Ω—É–∂–¥–∞');
      }
      
      // High Neuroticism (N >= 65) + Low Conscientiousness (C < 40)
      if (scores.N >= 65 && scores.C < 40) {
        risks.push({
          title: '–ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ –∏ –∫–æ–º–ø—É–ª—Å–∏–≤–Ω–æ –ø—Ä–µ—è–∂–¥–∞–Ω–µ',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç —Å—ä—á–µ—Ç–∞–Ω–∞ —Å –ø–æ-–Ω–∏—Å–∫–∞ —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∞—Ç–∞ –∑–∞ —Ä–µ–≥—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ –µ–º–æ—Ü–∏–∏. –†–∏—Å–∫–æ–≤–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è: —Ö—Ä–∞–Ω–µ–Ω–µ –∫–∞—Ç–æ –æ—Ç–≥–æ–≤–æ—Ä –Ω–∞ —Å—Ç—Ä–µ—Å, —Å–∞–º–æ—Ç–∞, —Å–∫—É–∫–∞ –∏–ª–∏ —Ç—ä–≥–∞; "–Ω–æ—â–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ"; –Ω–µ–≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –¥–∞ —Å–ø—Ä–µ—Ç–µ –≤–µ–¥–Ω—ä–∂ –∑–∞–ø–æ—á–Ω–∞–ª–æ —Ö—Ä–∞–Ω–µ–Ω–µ; —á—É–≤—Å—Ç–≤–æ –Ω–∞ –±–µ–∑–∫–æ–Ω—Ç—Ä–æ–ª–Ω–æ—Å—Ç –æ–∫–æ–ª–æ —Ö—Ä–∞–Ω–∞—Ç–∞; —Å–∫—Ä–∏—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ; —Ü–∏–∫–ª–∏ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–ø—Ä–µ—è–∂–¥–∞–Ω–µ.'
        });
        behavioralPatterns.push('–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—Å—è–≥–∞–Ω–µ –∫—ä–º —Ö—Ä–∞–Ω–∞ –ø—Ä–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏ –µ–º–æ—Ü–∏–∏');
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –¥–æ —á—É–≤—Å—Ç–≤–æ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç');
        behavioralPatterns.push('–ê–º–Ω–µ–∑–∏—è –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∏–∑—è–¥–µ–Ω–∞ —Ö—Ä–∞–Ω–∞ –ø—Ä–∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω –µ–ø–∏–∑–æ–¥');
        behavioralPatterns.push('–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–µ –Ω–∞ —Ö–∏–ø–µ—Ä–ø–∞–ª–∞—Ç–∞–±–∏–ª–Ω–∏ —Ö—Ä–∞–Ω–∏ (—Å –≤–∏—Å–æ–∫–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ –º–∞–∑–Ω–∏–Ω–∏+–∑–∞—Ö–∞—Ä)');
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å—ä–∫ —Å –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏ –Ω–∞—á–∏–Ω–∏ –∑–∞ —Å–ø—Ä–∞–≤—è–Ω–µ —Å—ä—Å —Å—Ç—Ä–µ—Å (—Ä–∞–∑—Ö–æ–¥–∫–∞, –¥–∏—à–∞–Ω–µ, –º—É–∑–∏–∫–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ)');
        recommendations.push('–í–æ–¥–µ—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ –Ω–∞ –µ–º–æ—Ü–∏–∏—Ç–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ –∑–∞ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä–∏');
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ mindfulness –∏ –æ—Å—ä–∑–Ω–∞—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –ø—Å–∏—Ö–æ–ª–æ–≥/–ø—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç –∑–∞ —Ä–∞–∑–≤–∏–≤–∞–Ω–µ –Ω–∞ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ –∫–æ–ø–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏');
        recommendations.push('–ò–∑–≥—Ä–∞–¥–µ—Ç–µ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ –ø–æ–¥–∫—Ä–µ–ø–∞ –∏–∑–≤—ä–Ω —Ö—Ä–∞–Ω–∞—Ç–∞');
      }
      
      // High Impulsivity (I >= 65)
      if (scores.I >= 65) {
        risks.push({
          title: '–ò–º–ø—É–ª—Å–∏–≤–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ –∏ –∑–∞–≥—É–±–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª',
          description: '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—Ç–∞ –∫—ä–º –±—ä—Ä–∑–∏ —Ä–µ—à–µ–Ω–∏—è –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —á–µ—Å—Ç–∏ –Ω–µ–∂–µ–ª–∞–Ω–∏ –∑–∞–∫—É—Å–∫–∏, —Ö—Ä–∞–Ω–µ–Ω–µ –ø—Ä–∏ –≤–∏–∑—É–∞–ª–µ–Ω –∏–ª–∏ –æ–±–æ–Ω—è—Ç–µ–ª–µ–Ω —Å—Ç–∏–º—É–ª, –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–µ —Å–ø—Ä–µ –≤–µ–¥–Ω—ä–∂ –∑–∞–ø–æ—á–Ω–∞–ª–æ —Ö—Ä–∞–Ω–µ–Ω–µ. –¢–∏–ø–∏—á–Ω–∏ –º–æ–¥–µ–ª–∏: —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∏ –ø–æ–∫—É–ø–∫–∏ –Ω–∞ –Ω–µ–∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∞ —Ö—Ä–∞–Ω–∞; –Ω–∞—á–∞–ª–æ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–µ –±–µ–∑ –æ—Å—ä–∑–Ω–∞—Ç–æ —Ä–µ—à–µ–Ω–∏–µ; –±–µ–∑–∫–æ–Ω—Ç—Ä–æ–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ –ø—Ä–µ–¥ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä/–∫–æ–º–ø—é—Ç—ä—Ä; —Ç—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–µ –∏–∑—á–∞–∫–∞ —Ä–µ–¥–æ–≤–Ω–æ –≤—Ä–µ–º–µ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–µ.'
        });
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ –æ—Ç –æ–ø–∞–∫–æ–≤–∫–∞—Ç–∞ –±–µ–∑ –ø–æ—Ä—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ');
        behavioralPatterns.push('–ü–æ–∫—É–ø–∫–∞ –Ω–∞ —Ö—Ä–∞–Ω–∞ "–Ω–∞ –º–æ–º–µ–Ω—Ç–∞" –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ');
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –¥–æ–∫–∞—Ç–æ –≥–æ—Ç–≤–∏—Ç–µ –∏–ª–∏ –ø—Ä–µ–¥–∏ –¥–∞ —Å–µ—Ä–≤–∏—Ä–∞—Ç–µ');
        behavioralPatterns.push('–¢—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ –æ—Ç–ª–æ–∂–∏—Ç–µ —É–¥–æ–≤–æ–ª—Å—Ç–≤–∏–µ—Ç–æ (–∂–µ–ª–∞–Ω–∏–µ –∑–∞ "—Å–µ–≥–∞")');
        recommendations.push('–ü—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –≤–∏–¥–∏–º–∏—Ç–µ –∏–∑–∫—É—à–µ–Ω–∏—è –æ—Ç –±–∏—Ç–æ–≤–∞—Ç–∞ —Å—Ä–µ–¥–∞ - "–∏–∑–≤—ä–Ω –ø–æ–≥–ª–µ–¥, –∏–∑–≤—ä–Ω —Å—ä–∑–Ω–∞–Ω–∏–µ"');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∞—Ç–∞ "10-–º–∏–Ω—É—Ç–Ω–∞ –ø–∞—É–∑–∞" –ø—Ä–µ–¥–∏ –¥–∞ –≤–∑–µ–º–µ—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞ —Ö—Ä–∞–Ω–∞');
        recommendations.push('–ü–ª–∞–Ω–∏—Ä–∞–π—Ç–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–∫—É—Å–∫–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ - –ø–æ–¥–≥–æ—Ç–≤–µ—Ç–µ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏');
        recommendations.push('–ü–æ—Ä—Ü–∏–æ–Ω–∏—Ä–∞–π—Ç–µ —Ö—Ä–∞–Ω–∞—Ç–∞ –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ —è–¥–µ—Ç–µ');
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ "–æ—Å—ä–∑–Ω–∞—Ç–æ –±–∞–≤–µ–Ω–µ" - –ø–æ—Å—Ç–∞–≤—è–π—Ç–µ –ø—Ä–∏–±–æ—Ä–∏—Ç–µ –º–µ–∂–¥—É —Ö–∞–ø–∫–∏—Ç–µ');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≤—ä–Ω—à–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏: –∞–ª–∞—Ä–º–∏, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –ø–æ–¥–≥–æ—Ç–≤–µ–Ω–∞ —Ö—Ä–∞–Ω–∞, accountability partner');
      }
      
      // Low Conscientiousness (C < 40) + High Openness (O >= 65)
      if (scores.C < 40 && scores.O >= 65) {
        risks.push({
          title: '–•–∞–æ—Ç–∏—á–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏ –∏ –Ω–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ',
          description: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏–µ—Ç–æ –∫—ä–º —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç –∏ –Ω–æ–≤–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –Ω–µ—Ä–µ–¥–æ–≤–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ, –ø—Ä–æ–ø—É—Å–∫–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è, –Ω–µ–ø–æ—Å—Ç–æ—è–Ω–µ–Ω —Ä–µ–∂–∏–º –∏ —á–µ—Å—Ç–∏ –¥–∏–µ—Ç–∏—á–Ω–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –±–µ–∑ –¥–æ–≤–µ–∂–¥–∞–Ω–µ –¥–æ –∫—Ä–∞–π. –ü—Ä–∏–∑–Ω–∞—Ü–∏: —Ö—Ä–∞–Ω–µ–Ω–µ –Ω–∞ —Å–ª—É—á–∞–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø; —á–µ—Å—Ç–∏ –ø—Ä–æ–ø—É—Å–∫–∞–Ω–∏—è –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Å–æ–±–µ–Ω–æ —Å—É—Ç—Ä–∏–Ω; –ø–µ—Ä–∏–æ–¥–∏ –Ω–∞ –≥–ª–∞–¥—É–≤–∞–Ω–µ —Å–ª–µ–¥–≤–∞–Ω–∏ –æ—Ç –ø—Ä–µ—è–∂–¥–∞–Ω–µ; –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ —Å –Ω–æ–≤–∏ –¥–∏–µ—Ç–∏ –Ω–æ –±—ä—Ä–∑–æ –æ—Ç–ø–∞–¥–∞–Ω–µ; –Ω–µ–¥–æ—Å—Ç–∞—Ç—ä—á–µ–Ω –ø—Ä–∏–µ–º –Ω–∞ –µ—Å–µ–Ω—Ü–∏–∞–ª–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –≤–µ—â–µ—Å—Ç–≤–∞.'
        });
        behavioralPatterns.push('–ù—è–º–∞–Ω–µ –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–æ –≤—Ä–µ–º–µ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–µ');
        behavioralPatterns.push('–ß–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ "–Ω–∞ –±—è–≥–∞–Ω–µ" –∏–ª–∏ –¥–æ–∫–∞—Ç–æ –ø—Ä–∞–≤–∏—Ç–µ –¥—Ä—É–≥–æ');
        behavioralPatterns.push('–ó–∞–ø–æ—á–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∞ –¥–∏–µ—Ç–∞ –≤—Å—è–∫–∞ —Å–µ–¥–º–∏—Ü–∞/–º–µ—Å–µ—Ü –±–µ–∑ –ø—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –ø—Ä–µ–¥–∏—à–Ω–∞');
        behavioralPatterns.push('–°–∏–ª–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –º–æ—Ç–∏–≤–∞—Ü–∏—è—Ç–∞ –≤ –º–æ–º–µ–Ω—Ç–∞');
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª–Ω–∞ —Ä—É—Ç–∏–Ω–∞ - –ø–æ–Ω–µ 2-3 —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–µ–Ω');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –Ω–∞–ø–æ–º–Ω—è–Ω–∏—è/–∞–ª–∞—Ä–º–∏ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–µ');
        recommendations.push('–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ —Å –Ω–æ–≤–∏ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å');
        recommendations.push('–ü–æ–¥–≥–æ—Ç–≤–µ—Ç–µ "emergency" —Ö—Ä–∞–Ω–∞ –∑–∞ –º–æ–º–µ–Ω—Ç–∏—Ç–µ –∫–æ–≥–∞—Ç–æ –ª–∏–ø—Å–≤–∞ –≤—Ä–µ–º–µ –∑–∞ –≥–æ—Ç–≤–µ–Ω–µ');
        recommendations.push('–ù–∞–º–µ—Ä–µ—Ç–µ –Ω–∞—á–∏–Ω –¥–∞ –ø—Ä–µ–≤—ä—Ä–Ω–µ—Ç–µ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–æ—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ –≤ "–Ω–æ–≤–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ –∏–≥—Ä–∞/challenge"');
      }
      
      // High Risk-seeking (R >= 65) + High Impulsivity (I >= 65)
      if (scores.R >= 65 && scores.I >= 65) {
        risks.push({
          title: '–ï–∫—Å—Ç—Ä–µ–º–Ω–∏ –ø–æ–¥—Ö–æ–¥–∏ –∏ –π–æ-–π–æ –µ—Ñ–µ–∫—Ç',
          description: '–ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –≤–∏—Å–æ–∫–∞ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º —Ä–∏—Å–∫ –∏ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –æ–ø–∏—Ç–∏ —Å –∫—Ä–∞–π–Ω–∏ –¥–∏–µ—Ç–∏, –æ–ø–∞—Å–Ω–∏ –¥–æ–±–∞–≤–∫–∏, "–≤—Å–∏—á–∫–æ –∏–ª–∏ –Ω–∏—â–æ" –º–∏—Å–ª–µ–Ω–µ –∏ —Ü–∏–∫–ª–∏ –Ω–∞ —Ä—è–∑–∫–æ –æ—Ç—Å–ª–∞–±–≤–∞–Ω–µ-–Ω–∞–ø—ä–ª–Ω—è–≤–∞–Ω–µ. –†–∏—Å–∫–æ–≤–µ: –º–Ω–æ–≥–æ –Ω–∏—Å–∫–æ –∫–∞–ª–æ—Ä–∏–π–Ω–∏ –¥–∏–µ—Ç–∏; –º–æ–Ω–æ–¥–∏–µ—Ç–∏; –µ–∫—Å—Ç—Ä–µ–º–Ω–∏ elimination –¥–∏–µ—Ç–∏ –±–µ–∑ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞ –ø—Ä–∏—á–∏–Ω–∞; —É–ø–æ—Ç—Ä–µ–±–∞ –Ω–∞ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –¥–æ–±–∞–≤–∫–∏; –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –∏–Ω—Ç–µ–Ω–∑–∏–≤–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏; –π–æ-–π–æ –µ—Ñ–µ–∫—Ç —Å –º–µ—Ç–∞–±–æ–ª–∏—Ç–Ω–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.'
        });
        behavioralPatterns.push('–ß–µ—Å—Ç–∏ —Ä–∞–¥–∏–∫–∞–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ –Ω–∞—á–∏–Ω–∞ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–µ');
        behavioralPatterns.push('–ü—Ä–∏–≤–ª–∏—á–∞–Ω–µ –∫—ä–º "–±—ä—Ä–∑–∏" —Ä–µ—à–µ–Ω–∏—è –∏ –æ–±–µ—â–∞–Ω–∏—è –∑–∞ –±—ä—Ä–∑ —Ä–µ–∑—É–ª—Ç–∞—Ç');
        behavioralPatterns.push('–ü—Ä–µ–Ω–µ–±—Ä–µ–≥–≤–∞–Ω–µ –Ω–∞ —Ä–∞–Ω–Ω–∏—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ–ª–Ω–∏ —Å–∏–≥–Ω–∞–ª–∏ –æ—Ç —Ç—è–ª–æ—Ç–æ');
        behavioralPatterns.push('–¢—Ä—É–¥–Ω–æ—Å—Ç —Å —É–º–µ—Ä–µ–Ω, –ø–æ—Å—Ç–µ–ø–µ–Ω–µ–Ω –ø–æ–¥—Ö–æ–¥ (–∏–∑–≥–ª–µ–∂–¥–∞ "—Å–∫—É—á–µ–Ω")');
        recommendations.push('–ò–∑–±—è–≥–≤–∞–π—Ç–µ –∫—Ä–∞–π–Ω–∏ –∏ –±—ä—Ä–∑–∏ –¥–∏–µ—Ç–∏ - —Ç—ä—Ä—Å–µ—Ç–µ —É–º–µ—Ä–µ–Ω–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–∏ –ø–æ–¥—Ö–æ–¥–∏');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–∏—Å—Ç –ø—Ä–µ–¥–∏ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ –≥–æ–ª–µ–º–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ');
        recommendations.push('–ü–æ—Å—Ç–∞–≤–µ—Ç–µ —Å–∏ –ø—Ä–∞–≤–∏–ª–æ: "–ò–∑—á–∞–∫–∞–π 2 —Å–µ–¥–º–∏—Ü–∏" –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–µ—Ç–µ —Ä–∞–¥–∏–∫–∞–ª–Ω–∞ –ø—Ä–æ–º—è–Ω–∞');
        recommendations.push('–§–æ–∫—É—Å–∏—Ä–∞–π—Ç–µ —Å–µ –≤—ä—Ä—Ö—É –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏ –ø—Ä–æ–º–µ–Ω–∏, –Ω–µ —Å–∞–º–æ –≤—ä—Ä—Ö—É —Ü–∏—Ñ—Ä–∏ –Ω–∞ —Ç–µ–≥–ª–æ—Ç–æ');
        recommendations.push('–ü—Ä–æ—É—á–µ—Ç–µ –Ω–∞—É—á–Ω–∞—Ç–∞ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –ø–æ–¥—Ö–æ–¥–∞ –ø—Ä–µ–¥–∏ –¥–∞ –≥–æ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ');
      }
      
      // Low Extraversion (E < 35)
      if (scores.E < 35) {
        risks.push({
          title: '–°–æ—Ü–∏–∞–ª–Ω–∞ –∏–∑–æ–ª–∞—Ü–∏—è –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ç–æ—Ä–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–ü–æ-–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç–∏—Ä–∞–Ω–∏—è—Ç —Å—Ç–∏–ª –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —Ö—Ä–∞–Ω–µ–Ω–µ –≤ —Å–∞–º–æ—Ç–∞, –∫–æ–µ—Ç–æ –ø–æ–Ω—è–∫–æ–≥–∞ –∑–∞—Ç—Ä—É–¥–Ω—è–≤–∞ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏—è –∏–∑–±–æ—Ä –∏ —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª–∞. –•—Ä–∞–Ω–∞—Ç–∞ –º–æ–∂–µ –¥–∞ —Å–µ –ø—Ä–µ–≤—ä—Ä–Ω–µ –≤ –Ω–∞—á–∏–Ω –∑–∞ –∫–æ–º–ø–∞–Ω–∏—è –∏–ª–∏ —É—Ç–µ—Ö–∞. –†–∏—Å–∫–æ–≤–µ: –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ –≤ –∏–∑–æ–ª–∞—Ü–∏—è; –ª–∏–ø—Å–∞ –Ω–∞ –≤—ä–Ω—à–Ω–∞ accountability; –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –∑–∞—Å–∏–ª–≤–∞–Ω–µ –Ω–∞ —Å–∞–º–æ—Ç–∞—Ç–∞; –ø–æ-–≤–∏—Å–æ–∫ —Ä–∏—Å–∫ –æ—Ç —Ö—Ä–∞–Ω–µ–Ω–µ –∫–∞—Ç–æ –∫–æ–ø–∏–Ω–≥ –º–µ—Ö–∞–Ω–∏–∑—ä–º –∑–∞ —Å–∞–º–æ—Ç–∞.'
        });
        behavioralPatterns.push('–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–µ –≤ —Å–∞–º–æ—Ç–∞, –¥–æ—Ä–∏ –∫–æ–≥–∞—Ç–æ –∏–º–∞ –æ–ø—Ü–∏—è –∑–∞ –∫–æ–º–ø–∞–Ω–∏—è');
        behavioralPatterns.push('–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∞—Ç–∞ –∫–∞—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞ —Ñ–æ—Ä–º–∞ –Ω–∞ —Å–∞–º–æ—É—Å–ø–æ–∫–æ—è–≤–∞–Ω–µ');
        behavioralPatterns.push('–¢—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–ø–æ–¥–µ–ª–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ —Ü–µ–ª–∏ —Å –¥—Ä—É–≥–∏');
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∞ —Å—Ä–µ–¥–∞ –∏ —É –¥–æ–º–∞');
        recommendations.push('–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –ø–æ–¥–∫—Ä–µ–ø—è—â–∞ –æ–Ω–ª–∞–π–Ω –æ–±—â–Ω–æ—Å—Ç –∏–ª–∏ accountability partner');
        recommendations.push('–†–∞–∑–≥–ª–µ–¥–∞–π—Ç–µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç—Ç–∞ –∑–∞ –æ–Ω–ª–∞–π–Ω –≥—Ä—É–ø–æ–≤–∞ –ø–æ–¥–∫—Ä–µ–ø–∞ –∏–ª–∏ coaching');
        recommendations.push('–†–∞–∑–≤–∏–π—Ç–µ –∏ –¥—Ä—É–≥–∏ —Ñ–æ—Ä–º–∏ –Ω–∞ self-care –∏–∑–≤—ä–Ω —Ö—Ä–∞–Ω–∞—Ç–∞');
      }
      
      // High Extraversion (E >= 70) + Low Agreeableness (A < 40)
      if (scores.E >= 70 && scores.A < 40) {
        risks.push({
          title: '–ü—Ä–µ–∫–æ–º–µ—Ä–Ω–æ —Å–æ—Ü–∏–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ –∏ –∞–ª–∫–æ—Ö–æ–ª',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ —Å–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —á–µ—Å—Ç–∏ –∏–∑–ª–∏–∑–∞–Ω–∏—è, –∞–ª–∫–æ—Ö–æ–ª –∏ —Ö—Ä–∞–Ω–∞ –≤ –∫–æ–º–ø–∞–Ω–∏—è, –∫–æ–µ—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–≤–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∞. –†–∏—Å–∫–æ–≤–µ: —á–µ—Å—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç—Å–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è —Å –≥–æ–ª–µ–º–∏ –ø–æ—Ä—Ü–∏–∏; –∫–æ–Ω—Å—É–º–∞—Ü–∏—è –Ω–∞ –∞–ª–∫–æ—Ö–æ–ª –≤ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ (–ø—Ä–∞–∑–Ω–∏ –∫–∞–ª–æ—Ä–∏–∏ + –Ω–∞–º–∞–ª–µ–Ω —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª); –Ω–æ—â–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–µ–¥ –∏–∑–ª–∏–∑–∞–Ω–∏—è; peer pressure –∏ —Å—ä—Å—Ç–µ–∑–∞—Ç–µ–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ; –Ω–µ—Ä–µ–¥–æ–≤–Ω–æ—Å—Ç –∑–∞—Ä–∞–¥–∏ —Å–æ—Ü–∏–∞–ª–µ–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä.'
        });
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –ø–æ–≤–µ—á–µ –≤ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –æ—Ç–∫–æ–ª–∫–æ—Ç–æ —Å–∞–º/–∞');
        behavioralPatterns.push('–¢—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ –æ—Ç–∫–∞–∂–µ—Ç–µ –∞–ª–∫–æ—Ö–æ–ª –∏–ª–∏ –¥–µ—Å–µ—Ä—Ç –≤ –∫–æ–º–ø–∞–Ω–∏—è');
        behavioralPatterns.push('–ü–ª–∞–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å—ä–±–∏—Ç–∏—è –ø—Ä–µ–¥–∏–º–Ω–æ –æ–∫–æ–ª–æ —Ö—Ä–∞–Ω–∞/–ø–∏–µ–Ω–µ');
        behavioralPatterns.push('–ü—Ä–µ–Ω–µ–±—Ä–µ–≥–≤–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ —Ü–µ–ª–∏ "–∑–∞—Ä–∞–¥–∏ –∫–æ–º–ø–∞–Ω–∏—è—Ç–∞"');
        recommendations.push('–ü–ª–∞–Ω–∏—Ä–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∫–∞–∫–≤–æ —â–µ –ø–æ—Ä—ä—á–∞—Ç–µ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç');
        recommendations.push('–†–∞–∑—Ä–∞–±–æ—Ç–µ—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ (—Ö—Ä–∞–Ω–µ–Ω–µ –ø—Ä–µ–¥–∏ –∏–∑–ª–∏–∑–∞–Ω–µ, –∏–∑–±–æ—Ä –Ω–∞ –ø–æ-–∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ –æ–ø—Ü–∏–∏)');
        recommendations.push('–û–ø—Ä–µ–¥–µ–ª–µ—Ç–µ —Å–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞ –∞–ª–∫–æ—Ö–æ–ª –∏ —Å–µ –ø—Ä–∏–¥—ä—Ä–∂–∞–π—Ç–µ –∫—ä–º —Ç—è—Ö');
        recommendations.push('–ü—Ä–µ–¥–ª–æ–∂–µ—Ç–µ –Ω–∞ –ø—Ä–∏—è—Ç–µ–ª–∏ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏ —Å–æ—Ü–∏–∞–ª–Ω–∏ –¥–µ–π–Ω–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ–∫—É—Å –≤—ä—Ä—Ö—É —Ö—Ä–∞–Ω–∞—Ç–∞');
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ –∞—Å–µ—Ä—Ç–∏–≤–Ω–æ—Å—Ç - –º–æ–∂–µ—Ç–µ –¥–∞ —Å–µ –∑–∞–±–∞–≤–ª—è–≤–∞—Ç–µ –±–µ–∑ –¥–∞ –ø—Ä–µ—è–∂–¥–∞—Ç–µ');
      }
      
      // High Agreeableness (A >= 70)
      if (scores.A >= 70) {
        risks.push({
          title: '–¢—Ä—É–¥–Ω–æ—Å—Ç —Å –≥—Ä–∞–Ω–∏—Ü–∏ –∏ people pleasing',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ —Å—ä–≥–ª–∞—Å—É–≤–∞–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–∞–≤–∏ —Ç—Ä—É–¥–Ω–æ –æ—Ç–∫–∞–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–Ω–∞ —Ö—Ä–∞–Ω–∞ –∏–ª–∏ –∞–ª–∫–æ—Ö–æ–ª –≤ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏, –∏ –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–≤–∞–Ω–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω—É–∂–¥–∏ –≤ –ø–æ–ª–∑–∞ –Ω–∞ –¥—Ä—É–≥–∏. –†–∏—Å–∫–æ–≤–µ: —Ö—Ä–∞–Ω–µ–Ω–µ –∑–∞ –¥–∞ –Ω–µ –æ–±–∏–¥–∏—Ç–µ –¥–æ–º–∞–∫–∏–Ω–∞; —Ç—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–ª–µ–¥–≤–∞—Ç–µ —Å–≤–æ—è –ø–ª–∞–Ω –∑–∞—Ä–∞–¥–∏ –æ—á–∞–∫–≤–∞–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏; –∏–∑–±–æ—Ä –Ω–∞ —Ö—Ä–∞–Ω–∞ –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è—Ç–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ç–µ; –∂–µ—Ä—Ç–≤–∞–Ω–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–æ—Ç–æ –∑–¥—Ä–∞–≤–µ –∑–∞ "–º–∏—Ä".'
        });
        behavioralPatterns.push('–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ "–¥–∞" –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ —Ö—Ä–∞–Ω–∞, –¥–æ—Ä–∏ –¥–∞ –Ω–µ –∏—Å–∫–∞—Ç–µ');
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –ø–æ–≤–µ—á–µ –∑–∞ –¥–∞ –Ω–µ –æ—Å—Ç–∞–Ω–µ —Ö—Ä–∞–Ω–∞ –∏ –¥–∞ "–æ–±–∏–¥–∏—Ç–µ –≥–æ—Ç–≤–∞—á–∞"');
        behavioralPatterns.push('–¢—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ –ø–æ–∏—Å–∫–∞—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–Ω–∏ –Ω—É–∂–¥–∏ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç');
        behavioralPatterns.push('–ß—É–≤—Å—Ç–≤–æ –Ω–∞ –≤–∏–Ω–∞ –ø—Ä–∏ –ø–æ—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –≥—Ä–∞–Ω–∏—Ü–∏');
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ —É—á—Ç–∏–≤–∏ –Ω–∞—á–∏–Ω–∏ –∑–∞ –æ—Ç–∫–∞–∑ ("–ë–ª–∞–≥–æ–¥–∞—Ä—è, –Ω–æ —Å—ä–º —Å–∏—Ç/–∞", "–ò–∑–≥–ª–µ–∂–¥–∞ –≤–∫—É—Å–Ω–æ, –Ω–æ –≤ –º–æ–º–µ–Ω—Ç–∞ –Ω–µ –º–∏ —Å–µ —è–¥–µ")');
        recommendations.push('–°–ø–æ–¥–µ–ª–µ—Ç–µ —Ü–µ–ª–∏—Ç–µ —Å–∏ —Å –±–ª–∏–∑–∫–∏ —Ö–æ—Ä–∞ –∑–∞ –ø–æ–¥–∫—Ä–µ–ø–∞ –∏ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ');
        recommendations.push('–ó–∞–ø–æ–º–Ω–µ—Ç–µ: –≥—Ä–∏–∂–∞—Ç–∞ –∑–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–æ—Ç–æ –∑–¥—Ä–∞–≤–µ –Ω–µ –µ –µ–≥–æ–∏—Å—Ç–∏—á–Ω–∞');
        recommendations.push('–£–ø—Ä–∞–∂–Ω—è–≤–∞–π—Ç–µ –∞—Å–µ—Ä—Ç–∏–≤–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è –±–µ–∑ –≤–∏–Ω–∞ –∏–ª–∏ –∞–≥—Ä–µ—Å–∏—è');
      }
      
      // Low Openness (O < 35) + High Conscientiousness (C >= 70)
      if (scores.O < 35 && scores.C >= 70) {
        risks.push({
          title: '–¢–≤—ä—Ä–¥–µ –æ–≥—Ä–∞–Ω–∏—á–∞–≤–∞—â —Ä–µ–∂–∏–º –∏ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç',
          description: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏–µ—Ç–æ –∫—ä–º –ø–æ–∑–Ω–∞—Ç–æ –∏ —Ä—É—Ç–∏–Ω–∞ –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –Ω–∞–±–æ—Ä –æ—Ç —Ö—Ä–∞–Ω–∏, –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–∏. –†–∏—Å–∫–æ–≤–µ: —Å—ä—â–∏—Ç–µ —Ö—Ä–∞–Ω–∏ –≤—Å–µ–∫–∏ –¥–µ–Ω; –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ö—Ä–∞–Ω–∏; —Ä–∏–≥–∏–¥–Ω–æ—Å—Ç –∫–æ—è—Ç–æ –≤–æ–¥–∏ –¥–æ "—Å—Ä–∏–≤" –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –æ–±—Å—Ç–æ—è—Ç–µ–ª—Å—Ç–≤–∞—Ç–∞; –Ω–µ–¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç –≤–∏—Ç–∞–º–∏–Ω–∏ –∏ –º–∏–Ω–µ—Ä–∞–ª–∏; —Å–æ—Ü–∏–∞–ª–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞—Ä–∞–¥–∏ —Ç–≤—ä—Ä–¥–µ —Ç–µ—Å–µ–Ω –Ω–∞–±–æ—Ä –æ—Ç —Ö—Ä–∞–Ω–∏.'
        });
        behavioralPatterns.push('–•—Ä–∞–Ω–µ–Ω–µ –Ω–∞ —Å—ä—â–∏—Ç–µ 5-10 —Ö—Ä–∞–Ω–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ');
        behavioralPatterns.push('–°–∏–ª–Ω–∞ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç –∏–ª–∏ –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç –ø—Ä–∏ –Ω—É–∂–¥–∞ –¥–∞ –æ–ø–∏—Ç–∞—Ç–µ –Ω–æ–≤–æ');
        behavioralPatterns.push('–ó–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è –ø—Ä–∏ –ø—ä—Ç—É–≤–∞–Ω–µ –∏–ª–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∞—Ç–∞');
        behavioralPatterns.push('–ò–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å—ä–±–∏—Ç–∏—è –∑–∞—Ä–∞–¥–∏ "–Ω–µ–ø–æ–∑–Ω–∞—Ç–∞ —Ö—Ä–∞–Ω–∞"');
        recommendations.push('–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤—è–π—Ç–µ –Ω–æ–≤–∏ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ö—Ä–∞–Ω–∏ –∫—ä–º —Ä—É—Ç–∏–Ω–∞—Ç–∞ (–µ–¥–Ω–∞ –Ω–∞ —Å–µ–¥–º–∏—Ü–∞)');
        recommendations.push('–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ—Ç–æ –µ –≤–∞–∂–Ω–æ –∑–∞ –¥—ä–ª–≥–æ—Å—Ä–æ—á–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –±–∞–ª–∞–Ω—Å');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç –∑–∞ –æ—Å–∏–≥—É—Ä—è–≤–∞–Ω–µ –Ω–∞ –∞–¥–µ–∫–≤–∞—Ç–µ–Ω –º–∏–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–µ–Ω –ø—Ä–æ—Ñ–∏–ª');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ "–ø—Ä–∞–≤–∏–ª–æ—Ç–æ –Ω–∞ 80/20": 80% –ø–æ–∑–Ω–∞—Ç–æ, 20% –Ω–æ–≤–æ/—Ä–∞–∑–ª–∏—á–Ω–æ');
      }
      
      // High Neuroticism (N >= 65) + High Impulsivity (I >= 65) + Low Conscientiousness (C < 40)
      if (scores.N >= 65 && scores.I >= 65 && scores.C < 40) {
        risks.push({
          title: '–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ –¥–∏–∑—Ä–µ–≥—É–ª–∏—Ä–∞–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–¢–∞–∑–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å—ä–∑–¥–∞–≤–∞ –≤–∏—Å–æ–∫ —Ä–∏—Å–∫ –∑–∞ —Å–µ—Ä–∏–æ–∑–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏: –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ç—Ä–∏–≥–µ—Ä–∏—Ä–∞–Ω–æ + –∏–º–ø—É–ª—Å–∏–≤–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–æ + –ª–∏–ø—Å–∞ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ = –≤–∏—Å–æ–∫–æ—Ä–∏—Å–∫–æ–≤–∏ –µ–ø–∏–∑–æ–¥–∏ –Ω–∞ –ø—Ä–µ—è–∂–¥–∞–Ω–µ. –í—ä–∑–º–æ–∂–µ–Ω –µ binge eating pattern —Å —Ü–∏–∫–ª–∏ –Ω–∞ –≤–∏–Ω–∞-–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è-–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –ø–æ–¥–∫—Ä–µ–ø–∞.'
        });
        behavioralPatterns.push('–ß–µ—Å—Ç–∏ –µ–ø–∏–∑–æ–¥–∏ –Ω–∞ –∑–∞–≥—É–±–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª –æ–∫–æ–ª–æ —Ö—Ä–∞–Ω–∞—Ç–∞');
        behavioralPatterns.push('–ö–æ–º–±–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º–Ω–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ');
        behavioralPatterns.push('–°–∏–ª–Ω–∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Ä–µ–∞–∫—Ü–∏–∏ —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å —Ö—Ä–∞–Ω–∞—Ç–∞ –∏ —Ç–µ–≥–ª–æ—Ç–æ');
        recommendations.push('–í–ê–ñ–ù–û: –ü–æ—Ç—ä—Ä—Å–µ—Ç–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –ø–æ–º–æ—â –æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ –≤—ä—Ä—Ö—É –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–≥—É–ª–∞—Ü–∏—è –ø—Ä–µ–¥–∏ —Ñ–æ–∫—É—Å –≤—ä—Ä—Ö—É –¥–∏–µ—Ç–∞');
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ —Å–∏–ª–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –ø–æ–¥–∫—Ä–µ–ø–∞');
        recommendations.push('–û–±–º–∏—Å–ª–µ—Ç–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞ —Ç–µ—Ä–∞–ø–∏—è (CBT) –∑–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–∞–∑—Å—Ç—Ä–æ–π—Å—Ç–≤–∞');
      }
      
      // Low Conscientiousness (C < 40) + Low Agreeableness (A < 40)
      if (scores.C < 40 && scores.A < 40) {
        risks.push({
          title: '–ù–∏—Å–∫–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è –∑–∞ –ø—Ä–æ–º—è–Ω–∞',
          description: '–ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –Ω–∏—Å–∫–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —Å—ä–ø—Ä–æ—Ç–∏–≤–∞ —Å—Ä–µ—â—É –ø—Ä–æ–º–µ–Ω–∏, –¥–æ—Ä–∏ –∫–æ–≥–∞—Ç–æ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ –∑–∞ –∑–¥—Ä–∞–≤–µ—Ç–æ. –¢—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–µ –ø—Ä–∏–µ–º–∞—Ç –ø—Ä–µ–ø–æ—Ä—ä–∫–∏ –∏ –¥–∞ —Å–µ —Å–ª–µ–¥–≤–∞ –ø–ª–∞–Ω –¥—ä–ª–≥–æ—Å—Ä–æ—á–Ω–æ.'
        });
        behavioralPatterns.push('–°—ä–ø—Ä–æ—Ç–∏–≤–∞ —Å—Ä–µ—â—É —Å—ä–≤–µ—Ç–∏, –¥–æ—Ä–∏ –¥–∞ —Å–∞ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏');
        behavioralPatterns.push('–ù–∞—á–∞–ª–æ –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏ –Ω–æ –±—ä—Ä–∑–æ –æ—Ç–ø–∞–¥–∞–Ω–µ');
        behavioralPatterns.push('–ß—É–≤—Å—Ç–≤–æ —á–µ –ø—Ä–∞–≤–∏–ª–∞—Ç–∞ "–Ω–µ –≤–∞–∂–∞—Ç –∑–∞ –º–µ–Ω"');
        recommendations.push('–ù–∞–º–µ—Ä–µ—Ç–µ –ª–∏—á–Ω–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è –æ—Ç–≤—ä–¥ –≤—ä–Ω—à–Ω–∏—Ç–µ –ø—Ä–µ–ø–æ—Ä—ä–∫–∏');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–∏—Å—Ç –∫–æ–π—Ç–æ —É–≤–∞–∂–∞–≤–∞ –∞–≤—Ç–æ–Ω–æ–º–∏—è—Ç–∞ –≤–∏');
        recommendations.push('–§–æ–∫—É—Å–∏—Ä–∞–π—Ç–µ —Å–µ –≤—ä—Ä—Ö—É –º–∞–ª–∫–∏ –ø—Ä–æ–º–µ–Ω–∏ –∫–æ–∏—Ç–æ –í–ò–ï –∏–∑–±–∏—Ä–∞—Ç–µ');
        recommendations.push('–°–≤—ä—Ä–∂–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ —Å –≤–∞—à–∏ –ª–∏—á–Ω–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–ª–∏');
      }
      
      // High Conscientiousness (C >= 70) + High Impulsivity (I >= 65) - –ø–∞—Ä–∞–¥–æ–∫—Å–∞–ª–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
      if (scores.C >= 70 && scores.I >= 65) {
        risks.push({
          title: '–ü–∞—Ä–∞–¥–æ–∫—Å–∞–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª-–∏–º–ø—É–ª—Å –º–æ–¥–µ–ª',
          description: '–ù–µ–æ–±–∏—á–∞–π–Ω–∞—Ç–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç –≤–∏—Å–æ–∫–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –≤–∏—Å–æ–∫–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ —Å—ä–∑–¥–∞–≤–∞ —Ü–∏–∫–ª–∏: —Å—Ç—Ä–æ–≥ –∫–æ–Ω—Ç—Ä–æ–ª ‚Üí –Ω–∞—Ç—Ä—É–ø–∞–Ω–æ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ ‚Üí –∏–º–ø—É–ª—Å–∏–≤–µ–Ω "—Å—Ä–∏–≤" ‚Üí –≤–∏–Ω–∞ ‚Üí –æ—â–µ –ø–æ-—Å—Ç—Ä–æ–≥ –∫–æ–Ω—Ç—Ä–æ–ª. –í–æ–¥–∏ –¥–æ –Ω–µ—Å—Ç–∞–±–∏–ª–Ω–æ—Å—Ç –∏ —Å—Ç—Ä–µ—Å.'
        });
        behavioralPatterns.push('–ü–µ—Ä–∏–æ–¥–∏ –Ω–∞ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ —Å–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø–ª–∞–Ω–∞ —Å–ª–µ–¥–≤–∞–Ω–∏ –æ—Ç "–≤–∑—Ä–∏–≤"');
        behavioralPatterns.push('–ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–∞ —Å—Ç—Ä–æ–≥–æ—Å—Ç –ø—Ä–µ–∑ —Å–µ–¥–º–∏—Ü–∞—Ç–∞, —Å—Ä–∏–≤ –ø—Ä–µ–∑ —É–∏–∫–µ–Ω–¥–∞');
        behavioralPatterns.push('–í—ä—Ç—Ä–µ—à–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ —Å–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞');
        recommendations.push('–†–∞–∑–ø–æ–∑–Ω–∞–π—Ç–µ —Ç–æ–∑–∏ –ø–∞—Ä–∞–¥–æ–∫—Å –∫–∞—Ç–æ –ª–∏—á–Ω–æ—Å—Ç–Ω–∞ –æ—Å–æ–±–µ–Ω–æ—Å—Ç, –Ω–µ —Å–ª–∞–±–æ—Å—Ç');
        recommendations.push('–í–≥—Ä–∞–¥–µ—Ç–µ "–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞–Ω–∏ –æ—Ç—Å—Ç—ä–ø–∫–∏" –≤ –ø–ª–∞–Ω–∞ –ø—Ä–µ–¥–∏ –∏–º–ø—É–ª—Å—ä—Ç –¥–∞ –≤–∏ –∑–∞–≤–ª–∞–¥–µ–µ');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ –≤—ä—Ä—Ö—É —Å–∞–º–æ—Å—ä—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Å–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∏–º–ø—É–ª—Å–∞: –¥–∏—à–∞–Ω–µ, mindfulness, distraction');
      }
      
      // Identify strengths
      if (scores.C >= 60) {
        strengths.push('–î–æ–±—Ä–æ—Ç–æ –Ω–∏–≤–æ –Ω–∞ —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –µ —Å–∏–ª–µ–Ω —Ñ–∞–∫—Ç–æ—Ä –∑–∞ —É—Å–ø–µ—Ö –≤ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –Ω–∞–≤–∏—Ü–∏');
      }
      
      if (scores.O >= 60) {
        strengths.push('–û—Ç–≤–æ—Ä–µ–Ω–æ—Å—Ç—Ç–∞ –∫—ä–º –Ω–æ–≤–æ —É–ª–µ—Å–Ω—è–≤–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ—Ç–æ —Å—ä—Å –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –∏ –ø–æ–¥—Ö–æ–¥–∏');
      }
      
      if (scores.E >= 50 && scores.E <= 70) {
        strengths.push('–ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–∞—Ç–∞ —Å–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è –ø–æ–º–∞–≥–∞ –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –∑–¥—Ä–∞–≤–∏ —Å–æ—Ü–∏–∞–ª–Ω–∏ –≤—Ä—ä–∑–∫–∏ –±–µ–∑ –ø—Ä–µ–∫–æ–º–µ—Ä–Ω–æ —Å–æ—Ü–∏–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ');
      }
      
      if (scores.N < 50) {
        strengths.push('–ü–æ-–Ω–∏—Å–∫–∞—Ç–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç –Ω–∞–º–∞–ª—è–≤–∞ —Ä–∏—Å–∫–∞ –æ—Ç –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ');
      }
      
      if (scores.I < 50) {
        strengths.push('–ü–æ-–Ω–∏—Å–∫–∞—Ç–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç —É–ª–µ—Å–Ω—è–≤–∞ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ—Ç–æ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞ –≤—ä—Ä—Ö—É —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –∏–∑–±–æ—Ä–∏');
      }
      
      if (scores.R < 50) {
        strengths.push('–ü—Ä–µ–¥–ø–∞–∑–ª–∏–≤–∏—è—Ç –ø–æ–¥—Ö–æ–¥ –∫—ä–º —Ä–∏—Å–∫ –ø–æ–º–∞–≥–∞ –∑–∞ –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∞–π–Ω–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–æ –≤—Ä–µ–¥–Ω–∏ –¥–∏–µ—Ç–∏—á–Ω–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏');
      }
      
      // If no specific risks identified
      if (risks.length === 0) {
        risks.push({
          title: '–ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª',
          description: '–í–∞—à–∏—è—Ç –ª–∏—á–Ω–æ—Å—Ç–µ–Ω –ø—Ä–æ—Ñ–∏–ª –Ω–µ –ø–æ–∫–∞–∑–≤–∞ —è—Å–Ω–æ –∏–∑—Ä–∞–∑–µ–Ω–∏ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ —Ä–∏—Å–∫ –≤—ä–≤ –≤—Ä—ä–∑–∫–∞ —Å —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –Ω–∞–≤–∏—Ü–∏. –¢–æ–≤–∞ –µ –¥–æ–±—Ä–∞ –∏–∑—Ö–æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è.'
        });
        recommendations.push('–ü–æ–¥–¥—ä—Ä–∂–∞–π—Ç–µ –æ—Å—ä–∑–Ω–∞—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ –∏ —Ä–µ–¥–æ–≤–µ–Ω —Ä–µ–∂–∏–º');
        recommendations.push('–°–ª–µ–¥–µ—Ç–µ –∑–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤ —Å—Ç—Ä–µ—Å–∞ –∏–ª–∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–∏—Ç–æ –º–æ–≥–∞—Ç –¥–∞ –ø–æ–≤–ª–∏—è—è—Ç —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ');
      }
      
      const simplifiedRisks = risks.map(risk => ({
        ...risk,
        description: simplifyText(risk.description, 2)
      })).slice(0, 4);

      return {
        risks: simplifiedRisks,
        recommendations: simplifyList(recommendations, 6, 1),
        strengths: simplifyList(strengths, 4, 1),
        behavioralPatterns: simplifyList(behavioralPatterns, 5, 1)
      };
    }

    function renderAIAnalysis(analysis) {
      const container = document.getElementById('aiAnalysisContainer');
      
      let html = '';
      
      // Strengths
      if (analysis.strengths.length > 0) {
        html += `
          <div class="ai-subsection">
            <h4>‚úì –°–∏–ª–Ω–∏ —Å—Ç—Ä–∞–Ω–∏ –Ω–∞ –≤–∞—à–∏—è –ø—Ä–æ—Ñ–∏–ª</h4>
            <ul class="ai-list">
              ${analysis.strengths.map(s => `
                <li>
                  <span class="ai-bullet">‚Ä¢</span>
                  <span class="ai-text">${s}</span>
                </li>
              `).join('')}
            </ul>
          </div>
        `;
      }
      
      // Risks
      html += `
        <div class="ai-subsection">
          <h4>‚ö† –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ —Ä–∏—Å–∫–æ–≤–∏ –æ–±–ª–∞—Å—Ç–∏</h4>
          ${analysis.risks.map(risk => `
            <div style="margin-bottom: 16px;">
              <div style="font-weight: 700; color: var(--text); margin-bottom: 4px;">${risk.title}</div>
              <div class="ai-text">${risk.description}</div>
            </div>
          `).join('')}
        </div>
      `;
      
      // Behavioral Patterns (if any)
      if (analysis.behavioralPatterns && analysis.behavioralPatterns.length > 0) {
        html += `
          <div class="ai-subsection">
            <h4>üîç –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏ –ø—Ä–∏–∑–Ω–∞—Ü–∏ –∑–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</h4>
            <ul class="ai-list">
              ${analysis.behavioralPatterns.map(pattern => `
                <li>
                  <span class="ai-bullet">‚ä≥</span>
                  <span class="ai-text">${pattern}</span>
                </li>
              `).join('')}
            </ul>
            <div class="ai-text" style="margin-top: 12px; font-style: italic; font-size: 13px;">
              –ê–∫–æ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ 3 –∏–ª–∏ –ø–æ–≤–µ—á–µ –æ—Ç —Ç–µ–∑–∏ –º–æ–¥–µ–ª–∏ —Ä–µ–¥–æ–≤–Ω–æ, —Ç–æ–≤–∞ –º–æ–∂–µ –¥–∞ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–∞ –∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç –æ—Ç –ø–æ-–∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞–º–µ—Å–∞.
            </div>
          </div>
        `;
      }
      
      // Recommendations
      html += `
        <div class="ai-subsection">
          <h4>üí° –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ</h4>
          <ul class="ai-list">
            ${analysis.recommendations.map(rec => `
              <li>
                <span class="ai-bullet">‚Üí</span>
                <span class="ai-text">${rec}</span>
              </li>
            `).join('')}
          </ul>
        </div>
      `;
      
      // General note
      html += `
        <div class="ai-subsection">
          <div class="ai-text" style="font-style: italic; padding-top: 12px; border-top: 1px solid var(--border);">
            <strong>–ó–∞–±–µ–ª–µ–∂–∫–∞:</strong> –¢–æ–∑–∏ –∞–Ω–∞–ª–∏–∑ –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –Ω–∞ –±–∞–∑–∞ –Ω–∞—É—á–Ω–∏ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–∏—è –∑–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞ –º–µ–∂–¥—É –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ —á–µ—Ä—Ç–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏. 
            –¢–æ–π –Ω–µ –∑–∞–º–µ–Ω—è –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏—è —Å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç. –ó–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–µ–Ω –ø–ª–∞–Ω –∫–æ–Ω—Å—É–ª—Ç–∏—Ä–∞–π—Ç–µ —Å–µ —Å –ª–∏—Ü–µ–Ω–∑–∏—Ä–∞–Ω –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç –∏–ª–∏ –ø—Å–∏—Ö–æ–ª–æ–≥.
            –ü—Ä–∏ –ø—Ä–∏–∑–Ω–∞—Ü–∏ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–æ —Ä–∞–∑—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–∑–∞–±–∞–≤–Ω–æ –ø–æ—Ç—ä—Ä—Å–µ—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ –ø–æ–º–æ—â.
          </div>
        </div>
      `;
      
      container.innerHTML = html;
    }

    function restartTest() {
      currentQuestionIndex = 0;
      answers = {};
      showScreen('screenIntro');
    }

    // Initialize
    document.getElementById('totalQuestions').textContent = questions.length;

    // Theme Toggle Functionality
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const body = document.getElementById('body');

    // –¢–µ–º–∏ –∏ —Ç–µ—Ö–Ω–∏—Ç–µ –∏–∫–æ–Ω–∏
    const themes = [
      { name: '', icon: '‚òÄÔ∏è' },      // –°–≤–µ—Ç–ª–∞ —Ç–µ–º–∞ (default)
      { name: 'dark-theme', icon: 'üåô' },   // –¢—ä–º–Ω–∞ —Ç–µ–º–∞
      { name: 'vivid-theme', icon: '‚ú®' }   // –Ø—Ä–∫–∞ —Ç–µ–º–∞
    ];

    let currentThemeIndex = 0;

    // –ó–∞—Ä–µ–¥–∏ –∑–∞–ø–∞–∑–µ–Ω–∞—Ç–∞ —Ç–µ–º–∞ –æ—Ç localStorage
    function loadTheme() {
      const savedTheme = localStorage.getItem('psychotest-theme');
      if (savedTheme) {
        const themeIndex = themes.findIndex(t => t.name === savedTheme);
        if (themeIndex !== -1) {
          currentThemeIndex = themeIndex;
          applyTheme(currentThemeIndex);
        }
      }
    }

    // –ü—Ä–∏–ª–æ–∂–∏ —Ç–µ–º–∞
    function applyTheme(index) {
      // –ü—Ä–µ–º–∞—Ö–Ω–∏ –≤—Å–∏—á–∫–∏ —Ç–µ–º–∏
      themes.forEach(theme => {
        if (theme.name) {
          body.classList.remove(theme.name);
        }
      });

      // –î–æ–±–∞–≤–∏ –Ω–æ–≤–∞—Ç–∞ —Ç–µ–º–∞
      if (themes[index].name) {
        body.classList.add(themes[index].name);
      }

      // –û–±–Ω–æ–≤–∏ –∏–∫–æ–Ω–∞—Ç–∞
      themeIcon.textContent = themes[index].icon;

      // –ó–∞–ø–∞–∑–∏ –≤ localStorage
      localStorage.setItem('psychotest-theme', themes[index].name);
    }

    // Toggle –Ω–∞ —Ç–µ–º–∞—Ç–∞
    themeToggle.addEventListener('click', () => {
      currentThemeIndex = (currentThemeIndex + 1) % themes.length;
      applyTheme(currentThemeIndex);
    });

    // –ó–∞—Ä–µ–¥–∏ —Ç–µ–º–∞—Ç–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    loadTheme();
  </script>
</body>
</html>
