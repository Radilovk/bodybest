<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ—Ç–µ—Å—Ç | BodyBest</title>
  <style>
    :root {
      --bg: #f8f9fb;
      --panel: #ffffff;
      --text: #2d3748;
      --muted: #718096;
      --border: #e2e8f0;
      --accent: #4c9adb;
      --accent-hover: #3182ce;
      --accent-light: #ebf5ff;
      --warning: #ed8936;
      --danger: #e53e3e;
      --success: #38a169;
      --radius: 12px;
      --shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      --shadow-hover: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--text);
      line-height: 1.6;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    .screen {
      display: none;
      animation: fadeIn 0.3s ease-in;
    }

    .screen.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
    }

    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      color: var(--accent);
      font-weight: 600;
    }

    .header p {
      color: var(--muted);
      font-size: 15px;
    }

    /* Intro Screen */
    .intro-content {
      background: var(--panel);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 30px;
      box-shadow: var(--shadow);
      transition: box-shadow 0.3s ease;
    }

    .intro-content:hover {
      box-shadow: var(--shadow-hover);
    }

    .intro-content h2 {
      font-size: 22px;
      margin-bottom: 15px;
      color: var(--accent);
    }

    .intro-content p {
      margin-bottom: 15px;
      color: var(--muted);
    }

    .intro-content ul {
      margin: 20px 0 20px 20px;
      color: var(--text);
    }

    .intro-content li {
      margin-bottom: 10px;
    }

    /* Button Styles */
    .btn {
      width: 100%;
      padding: 14px 24px;
      border: none;
      border-radius: 999px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .btn-primary {
      background: var(--accent);
      color: white;
    }

    .btn-primary:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 6px 12px -2px rgba(76, 154, 219, 0.4);
    }

    .btn-secondary {
      background: white;
      color: var(--text);
      border: 1px solid var(--border);
      margin-top: 10px;
    }

    .btn-secondary:hover {
      background: var(--bg);
      border-color: var(--accent);
      color: var(--accent);
    }

    /* Progress Bar */
    .progress-container {
      margin-bottom: 30px;
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
      color: var(--muted);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--border);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent) 0%, #667eea 100%);
      transition: width 0.3s ease;
      border-radius: 999px;
    }

    /* Question Card */
    .question-card {
      background: var(--panel);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 30px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .question-number {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      margin-bottom: 10px;
      font-weight: 700;
    }

    .question-text {
      font-size: 20px;
      margin-bottom: 20px;
      color: var(--text);
      font-weight: 600;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }

    .option {
      background: white;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .option:hover {
      background: var(--accent-light);
      border-color: var(--accent);
      transform: translateX(4px);
    }

    .option.selected {
      background: var(--accent-light);
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(76, 154, 219, 0.1);
    }

    .option-radio {
      width: 20px;
      height: 20px;
      border: 2px solid var(--border);
      border-radius: 50%;
      flex-shrink: 0;
      position: relative;
      transition: all 0.2s;
    }

    .option.selected .option-radio {
      border-color: var(--accent);
    }

    .option.selected .option-radio::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: var(--accent);
      border-radius: 50%;
    }

    .option-text {
      flex: 1;
      font-size: 15px;
      color: var(--text);
    }

    .legend {
      font-size: 13px;
      color: var(--muted);
      font-style: italic;
      padding: 12px;
      background: var(--accent-light);
      border-radius: 8px;
      border-left: 3px solid var(--accent);
    }

    /* Navigation */
    .navigation {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }

    .navigation .btn {
      flex: 1;
    }

    /* Results Screen */
    .results-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .results-header h2 {
      font-size: 26px;
      margin-bottom: 10px;
      color: var(--accent);
    }

    .results-header p {
      color: var(--muted);
    }

    .dimension-card {
      background: var(--panel);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
    }

    .dimension-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .dimension-name {
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
    }

    .dimension-code {
      font-size: 20px;
      font-weight: 800;
      padding: 4px 12px;
      border-radius: 8px;
      background: var(--accent-light);
      color: var(--accent);
    }

    .dimension-description {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 12px;
    }

    .score-bar-container {
      position: relative;
      margin-bottom: 8px;
    }

    .score-bar-labels {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .score-bar {
      width: 100%;
      height: 24px;
      background: linear-gradient(90deg, #667eea 0%, var(--accent) 100%);
      border-radius: 999px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    }

    .score-marker {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 4px;
      height: 32px;
      background: white;
      border-radius: 999px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    .score-value {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    .type-code-card {
      background: linear-gradient(135deg, var(--accent-light) 0%, #e0f2fe 100%);
      border: 2px solid var(--accent);
      border-radius: var(--radius);
      padding: 24px;
      text-align: center;
      margin: 30px 0;
      box-shadow: var(--shadow);
    }

    .type-code-label {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .type-code-value {
      font-size: 32px;
      font-weight: 800;
      color: var(--accent);
      letter-spacing: 0.05em;
    }

    .flags-section {
      margin: 30px 0;
    }

    .flags-section h3 {
      font-size: 18px;
      margin-bottom: 16px;
      color: var(--text);
    }

    .flag-card {
      background: #fff5f5;
      border: 1px solid #feb2b2;
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 12px;
    }

    .flag-card.warning {
      background: #fffaf0;
      border-color: #fbd38d;
    }

    .flag-title {
      font-weight: 700;
      color: var(--text);
      margin-bottom: 6px;
    }

    .flag-description {
      font-size: 14px;
      color: var(--muted);
    }

    /* AI Analysis Section */
    .ai-section {
      margin: 30px 0;
    }

    .ai-section h3 {
      font-size: 20px;
      margin-bottom: 16px;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .ai-badge {
      font-size: 11px;
      padding: 4px 10px;
      background: linear-gradient(135deg, var(--accent) 0%, #667eea 100%);
      color: white;
      border-radius: 999px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .ai-content {
      background: var(--panel);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 24px;
      box-shadow: var(--shadow);
    }

    .ai-subsection {
      margin-bottom: 24px;
    }

    .ai-subsection:last-child {
      margin-bottom: 0;
    }

    .ai-subsection h4 {
      font-size: 16px;
      color: var(--text);
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
    }

    .ai-list {
      list-style: none;
      padding: 0;
    }

    .ai-list li {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
      padding-left: 8px;
    }

    .ai-bullet {
      color: var(--accent);
      font-weight: 700;
      flex-shrink: 0;
    }

    .ai-text {
      flex: 1;
      font-size: 14px;
      color: var(--muted);
      line-height: 1.6;
    }

    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
      gap: 12px;
    }

    .loading-spinner {
      width: 24px;
      height: 24px;
      border: 3px solid var(--border);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      color: var(--muted);
      font-size: 14px;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .container {
        padding: 16px;
      }

      .header h1 {
        font-size: 24px;
      }

      .question-text {
        font-size: 18px;
      }

      .intro-content, .question-card {
        padding: 20px;
      }

      .type-code-value {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Intro Screen -->
    <div id="screenIntro" class="screen active">
      <div class="header">
        <h1>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ–ø—Ä–æ—Ñ–∏–ª</h1>
        <p>–ö—Ä–∞—Ç—ä–∫ —Ç–µ—Å—Ç –∑–∞ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏</p>
      </div>
      <div class="intro-content">
        <h2>–î–æ–±—Ä–µ –¥–æ—à–ª–∏!</h2>
        <p>–¢–æ–∑–∏ —Ç–µ—Å—Ç —Å—ä–¥—ä—Ä–∂–∞ 13 –≤—ä–ø—Ä–æ—Å–∞, –∫–æ–∏—Ç–æ –ø–æ–º–∞–≥–∞—Ç –¥–∞ —Å–µ –æ—Ü–µ–Ω–∏ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏—è—Ç –≤–∏ –ø—Ä–æ—Ñ–∏–ª –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ –≤—Ä—ä–∑–∫–∏ —Å —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –Ω–∞–≤–∏—Ü–∏.</p>
        <ul>
          <li>–í—Å–µ–∫–∏ –≤—ä–ø—Ä–æ—Å –∏–º–∞ —Ç—Ä–∏ —Ä–∞–≤–Ω–æ—Å—Ç–æ–π–Ω–∏ –æ–ø—Ü–∏–∏</li>
          <li>–ò–∑–±–µ—Ä–µ—Ç–µ –æ–ø—Ü–∏—è—Ç–∞, –∫–æ—è—Ç–æ –µ <strong>–Ω–∞–π-–±–ª–∏–∑–∫–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä</strong> –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏</li>
          <li>–ù—è–º–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏ –∏–ª–∏ –≥—Ä–µ—à–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏</li>
          <li>–û—Ç–≥–æ–≤–∞—Ä—è–π—Ç–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ, –±–µ–∑ –¥–∞ –º–∏—Å–ª–∏—Ç–µ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –¥—ä–ª–≥–æ</li>
          <li>–¢–µ—Å—Ç—ä—Ç –æ—Ç–Ω–µ–º–∞ –æ–∫–æ–ª–æ 4-6 –º–∏–Ω—É—Ç–∏</li>
        </ul>
        <button class="btn btn-primary" onclick="startTest()">–ó–∞–ø–æ—á–Ω–∏ —Ç–µ—Å—Ç–∞</button>
        <a href="../index.html" class="btn btn-secondary">–ù–∞–∑–∞–¥ –∫—ä–º –≥–ª–∞–≤–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      </div>
    </div>

    <!-- Questions Screen -->
    <div id="screenQuestions" class="screen">
      <div class="header">
        <h1>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ü—Å–∏—Ö–æ–ø—Ä–æ—Ñ–∏–ª</h1>
      </div>
      
      <div class="progress-container">
        <div class="progress-info">
          <span>–í—ä–ø—Ä–æ—Å <span id="currentQuestion">1</span> –æ—Ç <span id="totalQuestions">13</span></span>
          <span id="progressPercent">7%</span>
        </div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill" style="width: 7%"></div>
        </div>
      </div>

      <div id="questionContainer"></div>

      <div class="navigation">
        <button class="btn btn-secondary" id="btnPrevious" onclick="previousQuestion()" style="display: none">–ù–∞–∑–∞–¥</button>
        <button class="btn btn-primary" id="btnNext" onclick="nextQuestion()" disabled>–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å</button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="screenResults" class="screen">
      <div class="header">
        <h1>–í–∞—à–∏—Ç–µ –†–µ–∑—É–ª—Ç–∞—Ç–∏</h1>
      </div>
      
      <div class="results-header">
        <h2>–õ–∏—á–Ω–æ—Å—Ç–µ–Ω –ø—Ä–æ—Ñ–∏–ª</h2>
        <p>–í–∞—à–∏—Ç–µ –æ—Ü–µ–Ω–∫–∏ –ø–æ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è</p>
      </div>

      <div id="dimensionsContainer"></div>

      <div id="typeCodeContainer"></div>

      <div id="flagsContainer"></div>

      <div class="ai-section">
        <h3>
          AI –ê–Ω–∞–ª–∏–∑ –Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏
          <span class="ai-badge">AI Powered</span>
        </h3>
        <div id="aiAnalysisContainer" class="ai-content">
          <div class="loading">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ...</div>
          </div>
        </div>
      </div>

      <div class="navigation">
        <button class="btn btn-secondary" onclick="restartTest()">–ó–∞–ø–æ—á–Ω–∏ –æ—Ç–Ω–æ–≤–æ</button>
        <a href="../index.html" class="btn btn-primary" style="text-decoration: none">–ö—ä–º –≥–ª–∞–≤–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      </div>
    </div>
  </div>

  <script>
    // Test data loaded from JSON files
    const testData = {
      "meta": {
        "id": "bb_optional_personality_v1_1",
        "title": "–ö—Ä–∞—Ç—ä–∫ –ª–∏—á–Ω–æ—Å—Ç–µ–Ω –º–æ–¥—É–ª (–ø–æ –∏–∑–±–æ—Ä)",
        "language": "bg",
        "version": "1.1.0",
        "questions_count": 13
      },
      "items": [
        {
          "id": "psy_01",
          "text": "–ö–æ–≥–∞—Ç–æ —Å–µ –∑–∞–µ–º–∞–º —Å –Ω–æ–≤–∞ —Ü–µ–ª...?",
          "type": "radio",
          "options": [
            "–ü—Ä–∞–≤—è —Ç–æ—á–µ–Ω –ø–ª–∞–Ω –∏ —Å—Ç—ä–ø–∫–∏, –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–æ—á–Ω–∞",
            "–ü—Ä–∞–≤—è –æ–±—â–∞ —Ä–∞–º–∫–∞ –∏ –ø—Ä–µ—Ü–∏–∑–∏—Ä–∞–º –ø–æ –ø—ä—Ç—è",
            "–ó–∞–ø–æ—á–≤–∞–º –≤–µ–¥–Ω–∞–≥–∞ –∏ –æ—Ñ–æ—Ä–º—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_02",
          "text": "–í —Å–≤–æ–±–æ–¥–Ω–æ—Ç–æ —Å–∏ –≤—Ä–µ–º–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º...?",
          "type": "radio",
          "options": [
            "–ü–æ–∑–Ω–∞—Ç–∞ –¥–µ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –≤–µ—á–µ –µ –¥–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–∏—è—Ç–Ω–∞",
            "–ù–µ—â–æ –Ω–æ–≤–æ/–Ω–µ–ø–æ–∑–Ω–∞—Ç–æ, –∑–∞ –¥–∞ –ø—Ä–æ–±–≤–∞–º –∏ –¥–∞ –Ω–∞—É—á–∞",
            "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è: –ø–æ–∑–Ω–∞—Ç–æ + –º–∞–ª—ä–∫ –µ–ª–µ–º–µ–Ω—Ç –Ω–∞ –Ω–æ–≤–æ—Å—Ç"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_03",
          "text": "–°–ª–µ–¥ —Ç–µ–∂—ä–∫ –¥–µ–Ω –∏–º–∞–º –Ω—É–∂–¥–∞ –æ—Ç...?",
          "type": "radio",
          "options": [
            "–í—Ä–µ–º–µ –Ω–∞—Å–∞–º–µ –∏ —Ç–∏—à–∏–Ω–∞",
            "–ö–æ–Ω—Ç–∞–∫—Ç —Å —Ö–æ—Ä–∞ (–ø—Ä–∏—è—Ç–µ–ª–∏/–µ–∫–∏–ø), —Ä–∞–∑–≥–æ–≤–æ—Ä, –¥–≤–∏–∂–µ–Ω–∏–µ",
            "–ú–∞–ª–∫–∞ —Å–æ—Ü–∏–∞–ª–Ω–æ—Å—Ç + –ø–æ—Å–ª–µ –≤—Ä–µ–º–µ –Ω–∞—Å–∞–º–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_04",
          "text": "–ü—Ä–∏ –≤–∑–µ–º–∞–Ω–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –≤ —Ç—Ä—É–¥–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è...?",
          "type": "radio",
          "options": [
            "–°—ä–±–∏—Ä–∞–º –æ—â–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —á–∞–∫ —Ç–æ–≥–∞–≤–∞ —Ä–µ—à–∞–≤–∞–º",
            "–†–µ—à–∞–≤–∞–º –±—ä—Ä–∑–æ –∏ –ø–æ—Å–ª–µ –∫–æ—Ä–∏–≥–∏—Ä–∞–º –ø—Ä–∏ –Ω—É–∂–¥–∞",
            "–ü–∏—Ç–∞–º/—Å–≤–µ—Ä—è–≤–∞–º —Å –¥–æ–≤–µ—Ä–µ–Ω —á–æ–≤–µ–∫ –∏ –¥–µ–π—Å—Ç–≤–∞–º"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_05",
          "text": "–í –Ω–∞–ø—Ä–µ–≥–Ω–∞—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä...?",
          "type": "radio",
          "options": [
            "–ó–∞—è–≤—è–≤–∞–º –¥–∏—Ä–µ–∫—Ç–Ω–æ –∏ —è—Å–Ω–æ –º–Ω–µ–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç–∞",
            "–ò–∑—á–∞–∫–≤–∞–º –¥–∞ —Å–ø–∞–¥–Ω–µ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ—Ç–æ –∏ –ø–æ—Å–ª–µ –æ–±—Å—ä–∂–¥–∞–º",
            "–¢—ä—Ä—Å—è –º–µ–∫ –ø–æ–¥—Ö–æ–¥: –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–æ–Ω, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ —Å—Ç—ä–ø–∫–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_06",
          "text": "–ö–æ–≥–∞—Ç–æ —Ä–∞–±–æ—Ç—è –ø–æ–¥ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ...?",
          "type": "radio",
          "options": [
            "–§–æ–∫—É—Å–∏—Ä–∞–º —Å–µ –∏ —Å—Ç–∞–≤–∞–º –ø–æ-–µ—Ñ–µ–∫—Ç–∏–≤–µ–Ω/–∞",
            "–°—Ç–∞–≤–∞–º –ø–æ-—Ä–∞–∑–¥—Ä–∞–∑–Ω–∏—Ç–µ–ª–µ–Ω/–∞ –æ—Ç —Ä–∞–∑—Å–µ–π–≤–∞—â–∏ —Ñ–∞–∫—Ç–æ—Ä–∏",
            "–¢—ä—Ä—Å—è –æ–ø–æ—Ä–∞: —Ä—É—Ç–∏–Ω–∞, –ø—Ä–∞–≤–∏–ª–∞, —è—Å–Ω–∏ –≥—Ä–∞–Ω–∏—Ü–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_07",
          "text": "–ù—É–∂–¥–∞—Ç–∞ –º–∏ –æ—Ç –ø–æ–¥–∫—Ä–µ–ø–∞ –µ...?",
          "type": "radio",
          "options": [
            "–ß–µ—Å—Ç–æ –∏ –Ω–∞ –º–∞–ª–∫–∏ —Å—Ç—ä–ø–∫–∏",
            "–°–∞–º–æ –ø–æ –∫–ª—é—á–æ–≤–∏ –µ—Ç–∞–ø–∏/–Ω–∞ —Ñ–∏–Ω–∞–ª–∞",
            "–ü–æ –ø–æ–∏—Å–∫–≤–∞–Ω–µ: –∞–∑ —Ä–µ—à–∞–≤–∞–º –∫–æ–≥–∞ –¥–∞ —è –ø–æ—Ç—ä—Ä—Å—è"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_08",
          "text": "–í —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞ —Ä–∏—Å–∫ –∏ –ø–µ—á–∞–ª–±–∞...?",
          "type": "radio",
          "options": [
            "–ò–∑–±–∏—Ä–∞–º —Å–∏–≥—É—Ä–Ω–æ—Ç–æ –∏ –ø—Ä–µ–¥–≤–∏–¥–∏–º–æ—Ç–æ",
            "–ò–∑–±–∏—Ä–∞–º –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ: —Å—Ä–µ–¥–µ–Ω —Ä–∏—Å–∫ –∑–∞ —Å—Ä–µ–¥–Ω–∞ –ø–æ–ª–∑–∞",
            "–ú–æ—è—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ \\\"–í—Å–∏—á–∫–æ –∏–ª–∏ –Ω–∏—â–æ\\\""
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_09",
          "text": "–ö–æ–≥–∞—Ç–æ –∏–º–∞–º —Å—Ä–æ–∫...?",
          "type": "radio",
          "options": [
            "–ó–∞–ø–æ—á–≤–∞–º —Ä–∞–Ω–æ –∏ –ø—Ä–∞–≤—è –ø–æ –º–∞–ª–∫–æ, –Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ",
            "–ó–∞–ø–æ—á–≤–∞–º –ø–æ —Å—Ä–µ–¥–∞—Ç–∞ –∏ –ø–æ–¥–¥—ä—Ä–∂–∞–º —Ç–µ–º–ø–æ –¥–æ —Ñ–∏–Ω–∞–ª–∞",
            "–†–∞–±–æ—Ç—è –Ω–∞–π-–¥–æ–±—Ä–µ –Ω–∞ —Ñ–∏–Ω–∞–ª–µ–Ω —Å–ø—Ä–∏–Ω—Ç"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_10",
          "text": "–ü—Ä–∏ –∏–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ —É–º–µ–Ω–∏—è...?",
          "type": "radio",
          "options": [
            "–°–ª–µ–¥–≤–∞–º —è—Å–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω –ø–ª–∞–Ω",
            "–ü—Ä–æ–±–≤–∞–º —á—Ä–µ–∑ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∏ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ",
            "–û–ø–∏—Ç–≤–∞–º —Å–µ –¥–∞ —Å—ä—á–µ—Ç–∞—è –ø—Ä–∏–º–µ—Ä/–º–µ–Ω—Ç–æ—Ä + –¥–µ–π—Å—Ç–≤–∏–µ"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_12",
          "text": "–ü—Ä–∏ –º–∞–ª–∫–∞ –ø–æ–ª–∑–∞ –≤–µ–¥–Ω–∞–≥–∞ –∏ –ø–æ-–≥–æ–ª—è–º–∞ —Å–ª–µ–¥ –≤—Ä–µ–º–µ...?",
          "type": "radio",
          "options": [
            "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º –º–∞–ª–∫–∞—Ç–∞ –ø–æ–ª–∑–∞ –≤–µ–¥–Ω–∞–≥–∞",
            "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º –ø–æ-–≥–æ–ª—è–º–∞—Ç–∞ –ø–æ–ª–∑–∞ –ø–æ-–∫—ä—Å–Ω–æ",
            "–¢—Ä—è–±–≤–∞ –¥–æ–±—Ä–µ –¥–∞ –æ–±–º–∏—Å–ª—è —Å–∏—Ç—É–∞—Ü–∏—è—Ç–∞"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_13",
          "text": "–ó–∞ –¥–∞ —Å—ä–º –æ—Ç–¥–∞–¥–µ–Ω –∏–º–∞–º –Ω—É–∂–¥–∞ –æ—Ç...?",
          "type": "radio",
          "options": [
            "–°–∏–≥—É—Ä–Ω–æ—Å—Ç, –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ, –Ω–∞–≤–∏—Ü–∏",
            "–ß–µ—Å—Ç–∞ –ø—Ä–æ–º—è–Ω–∞ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ",
            "–†—É—Ç–∏–Ω–∞ –∏ –Ω–æ–≤–∏ –µ–ª–µ–º–µ–Ω—Ç–∏"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        },
        {
          "id": "psy_14",
          "text": "–ö–æ–≥–∞—Ç–æ –≤—ä–∑–Ω–∏–∫–Ω–µ —Å–∏–ª–Ω–∞ –µ–º–æ—Ü–∏—è...?",
          "type": "radio",
          "options": [
            "–ò–∑—Ä–∞–∑—è–≤–∞–º —è –≤–µ–¥–Ω–∞–≥–∞ –∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ",
            "–û–±—Ä–∞–±–æ—Ç–≤–∞–º —è –≤—ä—Ç—Ä–µ—à–Ω–æ –∏ —Å–ª–µ–¥ —Ç–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∞–º",
            "–¢—ä—Ä—Å—è –¥–∏–∞–ª–æ–≥ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∑–∞ –¥–∞ —Å–∏ —è –ø–æ–¥—Ä–µ–¥—è"
          ],
          "legend": "–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–Ω–∞ –æ–ø—Ü–∏—è ‚Äî –Ω–∞–π-–±–ª–∏–∑–∫–∞—Ç–∞ –¥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏—è –≤–∏ –∏–∑–±–æ—Ä –≤ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —à–µ—Å—Ç –º–µ—Å–µ—Ü–∞)."
        }
      ]
    };

    const scoringKey = {
      "psy_01": [
        {"C": 2, "O": -1, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 1, "E": 1, "A": 0, "N": 0, "I": 1, "R": 0}
      ],
      "psy_02": [
        {"C": 0, "O": -1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 2, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_03": [
        {"C": 0, "O": 0, "E": -2, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 0, "E": 2, "A": 1, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_04": [
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": -1, "R": -1},
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 0, "I": 1, "R": 1},
        {"C": 0, "O": 0, "E": 0, "A": 2, "N": 0, "I": 0, "R": 0}
      ],
      "psy_05": [
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 1, "I": 0, "R": 0},
        {"C": 1, "O": 0, "E": -1, "A": 0, "N": 1, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 2, "N": 0, "I": 0, "R": 0}
      ],
      "psy_06": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": -1, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 0, "A": -1, "N": 2, "I": 1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 1, "I": 0, "R": 0}
      ],
      "psy_07": [
        {"C": 0, "O": 0, "E": 0, "A": 1, "N": 1, "I": 0, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_08": [
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": -2},
        {"C": 0, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 1, "A": -1, "N": 1, "I": 1, "R": 2}
      ],
      "psy_09": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 0, "E": 0, "A": 0, "N": 1, "I": 2, "R": 0}
      ],
      "psy_10": [
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": 0, "O": 2, "E": 0, "A": 0, "N": 0, "I": 1, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 1, "N": 0, "I": 0, "R": 0}
      ],
      "psy_12": [
        {"C": -1, "O": 0, "E": 0, "A": 0, "N": 0, "I": 2, "R": 0},
        {"C": 2, "O": 0, "E": 0, "A": 0, "N": 0, "I": -1, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_13": [
        {"C": 2, "O": -1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0},
        {"C": -1, "O": 2, "E": 0, "A": 0, "N": 0, "I": 1, "R": 0},
        {"C": 1, "O": 1, "E": 0, "A": 0, "N": 0, "I": 0, "R": 0}
      ],
      "psy_14": [
        {"C": 0, "O": 0, "E": 1, "A": -1, "N": 1, "I": 1, "R": 0},
        {"C": 1, "O": 0, "E": -1, "A": 0, "N": -1, "I": -1, "R": 0},
        {"C": 0, "O": 1, "E": 0, "A": 1, "N": 0, "I": 0, "R": 0}
      ]
    };

    const dimensionInfo = {
      "E": {
        "name": "–°–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è",
        "description": "–æ–±—â–∏—Ç–µ–ª–Ω–æ—Å—Ç –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è",
        "lowLabel": "X (–ø–æ-–∑–∞—Ç–≤–æ—Ä–µ–Ω)",
        "highLabel": "E (–ø–æ-–æ–±—â–∏—Ç–µ–ª–µ–Ω)",
        "threshold": 60
      },
      "C": {
        "name": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞",
        "description": "–æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω–æ—Å—Ç –∏ —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª",
        "lowLabel": "P (–ø–æ-–≥—ä–≤–∫–∞–≤)",
        "highLabel": "J (–ø–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω)",
        "threshold": 60
      },
      "O": {
        "name": "–û—Ç–≤–æ—Ä–µ–Ω–æ—Å—Ç –∫—ä–º –Ω–æ–≤–æ—Ç–æ",
        "description": "–Ω–æ–≤–∞—Ç–æ—Ä—Å—Ç–≤–æ –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª–Ω–æ—Å—Ç",
        "lowLabel": "S (–ø–æ-–ø—Ä–∞–∫—Ç–∏—á–µ–Ω)",
        "highLabel": "V (–ø–æ-–Ω–æ–≤–∞—Ç–æ—Ä—Å–∫–∏)",
        "threshold": 60
      },
      "A": {
        "name": "–ú–µ–∫–æ—Ç–∞ –≤ –∫–æ–Ω—Ç–∞–∫—Ç",
        "description": "—Å—ä–≥–ª–∞—Å—É–≤–∞–Ω–æ—Å—Ç –∏ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç",
        "lowLabel": "D (–ø–æ-–¥–∏—Ä–µ–∫—Ç–µ–Ω)",
        "highLabel": "M (–ø–æ-–º–µ–∫)",
        "threshold": 60
      },
      "N": {
        "name": "–ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç",
        "description": "—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ—Å—Ç –∫—ä–º —Å—Ç—Ä–µ—Å",
        "lowLabel": "–°—Ç–∞–±–∏–ª–µ–Ω",
        "highLabel": "–†–µ–∞–∫—Ç–∏–≤–µ–Ω",
        "threshold": 65
      },
      "I": {
        "name": "–ò–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç",
        "description": "—Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º –º–æ–º–µ–Ω—Ç–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è",
        "lowLabel": "–ü–ª–∞–Ω–∏—Ä–∞—â",
        "highLabel": "–ò–º–ø—É–ª—Å–∏–≤–µ–Ω",
        "threshold": 65
      },
      "R": {
        "name": "–†–∏—Å–∫–æ–≤–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è",
        "description": "—Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º –Ω–µ—Å–∏–≥—É—Ä–Ω–æ—Å—Ç",
        "lowLabel": "–ü—Ä–µ–¥–ø–∞–∑–ª–∏–≤",
        "highLabel": "–†–∏—Å–∫–æ–≤",
        "threshold": 65
      }
    };

    // State
    let currentQuestionIndex = 0;
    let answers = {};
    const questions = testData.items;

    // Functions
    function startTest() {
      showScreen('screenQuestions');
      renderQuestion();
    }

    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
    }

    function renderQuestion() {
      const question = questions[currentQuestionIndex];
      const container = document.getElementById('questionContainer');
      
      const html = `
        <div class="question-card">
          <div class="question-number">–í—ä–ø—Ä–æ—Å ${currentQuestionIndex + 1}</div>
          <div class="question-text">${question.text}</div>
          <div class="options" id="options">
            ${question.options.map((opt, idx) => `
              <div class="option" data-index="${idx}" onclick="selectOption(${idx})">
                <div class="option-radio"></div>
                <div class="option-text">${opt}</div>
              </div>
            `).join('')}
          </div>
          <div class="legend">${question.legend}</div>
        </div>
      `;
      
      container.innerHTML = html;
      
      // Restore previous answer if exists
      if (answers[question.id] !== undefined) {
        selectOption(answers[question.id], false);
      }
      
      updateProgress();
      updateNavigation();
    }

    function selectOption(index, enableNext = true) {
      const options = document.querySelectorAll('.option');
      options.forEach(opt => opt.classList.remove('selected'));
      options[index].classList.add('selected');
      
      const question = questions[currentQuestionIndex];
      answers[question.id] = index;
      
      if (enableNext) {
        document.getElementById('btnNext').disabled = false;
      }
    }

    function nextQuestion() {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        renderQuestion();
      } else {
        calculateAndShowResults();
      }
    }

    function previousQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
      }
    }

    function updateProgress() {
      const current = currentQuestionIndex + 1;
      const total = questions.length;
      const percent = Math.round((current / total) * 100);
      
      document.getElementById('currentQuestion').textContent = current;
      document.getElementById('totalQuestions').textContent = total;
      document.getElementById('progressPercent').textContent = percent + '%';
      document.getElementById('progressFill').style.width = percent + '%';
    }

    function updateNavigation() {
      const btnPrevious = document.getElementById('btnPrevious');
      const btnNext = document.getElementById('btnNext');
      
      btnPrevious.style.display = currentQuestionIndex > 0 ? 'block' : 'none';
      
      const question = questions[currentQuestionIndex];
      const hasAnswer = answers[question.id] !== undefined;
      btnNext.disabled = !hasAnswer;
      
      if (currentQuestionIndex === questions.length - 1) {
        btnNext.textContent = '–í–∏–∂ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ';
      } else {
        btnNext.textContent = '–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å';
      }
    }

    function calculateScores() {
      const rawScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      const minScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      const maxScores = { E: 0, C: 0, O: 0, A: 0, N: 0, I: 0, R: 0 };
      
      // Calculate raw scores
      questions.forEach(q => {
        const answerIndex = answers[q.id];
        const scoring = scoringKey[q.id][answerIndex];
        
        Object.keys(scoring).forEach(dim => {
          rawScores[dim] += scoring[dim];
        });
      });
      
      // Calculate min/max possible scores
      questions.forEach(q => {
        const scorings = scoringKey[q.id];
        
        Object.keys(rawScores).forEach(dim => {
          const values = scorings.map(s => s[dim]);
          minScores[dim] += Math.min(...values);
          maxScores[dim] += Math.max(...values);
        });
      });
      
      // Normalize to 0-100
      const normalizedScores = {};
      Object.keys(rawScores).forEach(dim => {
        const raw = rawScores[dim];
        const min = minScores[dim];
        const max = maxScores[dim];
        const range = max - min;
        
        if (range === 0) {
          normalizedScores[dim] = 50;
        } else {
          normalizedScores[dim] = Math.round(((raw - min) / range) * 100);
        }
      });
      
      return normalizedScores;
    }

    function calculateAndShowResults() {
      const scores = calculateScores();
      
      showScreen('screenResults');
      renderDimensions(scores);
      renderTypeCode(scores);
      renderFlags(scores);
      generateAIAnalysis(scores);
    }

    function renderDimensions(scores) {
      const container = document.getElementById('dimensionsContainer');
      const dimensions = ['E', 'C', 'O', 'A', 'N', 'I', 'R'];
      
      const html = dimensions.map(dim => {
        const info = dimensionInfo[dim];
        const score = scores[dim];
        
        return `
          <div class="dimension-card">
            <div class="dimension-header">
              <div class="dimension-name">${info.name}</div>
              <div class="dimension-code">${dim}</div>
            </div>
            <div class="dimension-description">${info.description}</div>
            <div class="score-bar-container">
              <div class="score-bar-labels">
                <span>${info.lowLabel}</span>
                <span>${info.highLabel}</span>
              </div>
              <div class="score-bar">
                <div class="score-marker" style="left: ${score}%"></div>
              </div>
              <div class="score-value">${score} / 100</div>
            </div>
          </div>
        `;
      }).join('');
      
      container.innerHTML = html;
    }

    function renderTypeCode(scores) {
      const container = document.getElementById('typeCodeContainer');
      
      // Generate 4-axis type code (E-O-A-C)
      const E_code = scores.E >= dimensionInfo.E.threshold ? 'E' : 'X';
      const O_code = scores.O >= dimensionInfo.O.threshold ? 'V' : 'S';
      const A_code = scores.A >= dimensionInfo.A.threshold ? 'M' : 'D';
      const C_code = scores.C >= dimensionInfo.C.threshold ? 'J' : 'P';
      
      const typeCode = `${E_code}-${O_code}-${A_code}-${C_code}`;
      
      const html = `
        <div class="type-code-card">
          <div class="type-code-label">–í–∞—à–∏—è—Ç –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–µ–Ω –∫–æ–¥</div>
          <div class="type-code-value">${typeCode}</div>
        </div>
      `;
      
      container.innerHTML = html;
    }

    function renderFlags(scores) {
      const container = document.getElementById('flagsContainer');
      const flags = [];
      
      if (scores.I >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç',
          description: '–ü–æ-—Å–∏–ª–µ–Ω –∏–º–ø—É–ª—Å "—Å–µ–≥–∞" - —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º –±—ä—Ä–∑–∏ —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ –∑–∞–¥—ä–ª–±–æ—á–µ–Ω –∞–Ω–∞–ª–∏–∑.',
          type: 'warning'
        });
      }
      
      if (scores.N >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç',
          description: '–ü–æ-–≤–∏—Å–æ–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ—Å—Ç –∫—ä–º —Å—Ç—Ä–µ—Å –∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Å—Ç–∏–º—É–ª–∏.',
          type: 'warning'
        });
      }
      
      if (scores.R >= 65) {
        flags.push({
          title: '–í–∏—Å–æ–∫–∞ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç –∫—ä–º —Ä–∏—Å–∫',
          description: '–ü–æ-–≤–∏—Å–æ–∫–∞ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º –Ω–µ—Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ —Ä–∏—Å–∫–æ–≤–∏ —Å–∏—Ç—É–∞—Ü–∏–∏.',
          type: 'warning'
        });
      }
      
      if (flags.length === 0) {
        container.innerHTML = '';
        return;
      }
      
      const html = `
        <div class="flags-section">
          <h3>–û–±–ª–∞—Å—Ç–∏ –Ω–∞ –≤–Ω–∏–º–∞–Ω–∏–µ</h3>
          ${flags.map(flag => `
            <div class="flag-card ${flag.type}">
              <div class="flag-title">${flag.title}</div>
              <div class="flag-description">${flag.description}</div>
            </div>
          `).join('')}
        </div>
      `;
      
      container.innerHTML = html;
    }

    function generateAIAnalysis(scores) {
      // Simulate AI processing delay
      setTimeout(() => {
        const analysis = analyzeNutritionalRisks(scores);
        renderAIAnalysis(analysis);
      }, 1500);
    }

    function analyzeNutritionalRisks(scores) {
      const risks = [];
      const recommendations = [];
      const strengths = [];
      
      // High Conscientiousness (C >= 70) + High Neuroticism (N >= 65)
      if (scores.C >= 70 && scores.N >= 65) {
        risks.push({
          title: '–†–µ—Å—Ç—Ä–∏–∫—Ç–∏–≤–Ω–∏ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏',
          description: '–ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –≤–∏—Å–æ–∫–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —Ç–≤—ä—Ä–¥–µ —Å—Ç—Ä–æ–≥–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ–∂–∏–º–∏ –∏ –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑—ä–º –æ–∫–æ–ª–æ —Ö—Ä–∞–Ω–∞—Ç–∞.'
        });
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ –≥—ä–≤–∫–∞–≤–æ—Å—Ç –≤ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ - –ø–æ–∑–≤–æ–ª–µ—Ç–µ —Å–∏ 10-20% –æ—Ç –∫–∞–ª–æ—Ä–∏–∏—Ç–µ –∑–∞ —Ö—Ä–∞–Ω–∏ "–∑–∞ —É–¥–æ–≤–æ–ª—Å—Ç–≤–∏–µ"');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –∏ —É—Å—Ç–æ–π—á–∏–≤ –ø–ª–∞–Ω');
      }
      
      // High Neuroticism (N >= 65) + Low Conscientiousness (C < 40)
      if (scores.N >= 65 && scores.C < 40) {
        risks.push({
          title: '–ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç —Å—ä—á–µ—Ç–∞–Ω–∞ —Å –ø–æ-–Ω–∏—Å–∫–∞ —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∞—Ç–∞ –∑–∞ —Ä–µ–≥—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ –µ–º–æ—Ü–∏–∏.'
        });
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å—ä–∫ —Å –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏ –Ω–∞—á–∏–Ω–∏ –∑–∞ —Å–ø—Ä–∞–≤—è–Ω–µ —Å—ä—Å —Å—Ç—Ä–µ—Å (—Ä–∞–∑—Ö–æ–¥–∫–∞, –¥–∏—à–∞–Ω–µ, –º—É–∑–∏–∫–∞)');
        recommendations.push('–í–æ–¥–µ—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ –Ω–∞ –µ–º–æ—Ü–∏–∏—Ç–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ –∑–∞ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä–∏');
      }
      
      // High Impulsivity (I >= 65)
      if (scores.I >= 65) {
        risks.push({
          title: '–ò–º–ø—É–ª—Å–∏–≤–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—Ç–∞ –∫—ä–º –±—ä—Ä–∑–∏ —Ä–µ—à–µ–Ω–∏—è –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —á–µ—Å—Ç–∏ –∑–∞–∫—É—Å–∫–∏, —Ö—Ä–∞–Ω–µ–Ω–µ –ø—Ä–∏ –≤–∏–∑—É–∞–ª–µ–Ω —Å—Ç–∏–º—É–ª –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç –¥–∞ —Å–µ —Å–ø—Ä–µ —Å–ª–µ–¥ "–æ—â–µ –º–∞–ª–∫–æ".'
        });
        recommendations.push('–ü—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –≤–∏–¥–∏–º–∏—Ç–µ –∏–∑–∫—É—à–µ–Ω–∏—è –æ—Ç –±–∏—Ç–æ–≤–∞—Ç–∞ —Å—Ä–µ–¥–∞');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∞—Ç–∞ "10-–º–∏–Ω—É—Ç–Ω–∞ –ø–∞—É–∑–∞" –ø—Ä–µ–¥–∏ –¥–∞ –≤–∑–µ–º–µ—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞ —Ö—Ä–∞–Ω–∞');
        recommendations.push('–ü–ª–∞–Ω–∏—Ä–∞–π—Ç–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–∫—É—Å–∫–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ');
      }
      
      // Low Conscientiousness (C < 40) + High Openness (O >= 65)
      if (scores.C < 40 && scores.O >= 65) {
        risks.push({
          title: '–•–∞–æ—Ç–∏—á–Ω–∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏',
          description: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏–µ—Ç–æ –∫—ä–º —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç –∏ –Ω–æ–≤–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –Ω–µ—Ä–µ–¥–æ–≤–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ, –ø—Ä–æ–ø—É—Å–∫–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –Ω–µ–ø–æ—Å—Ç–æ—è–Ω–µ–Ω —Ä–µ–∂–∏–º.'
        });
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª–Ω–∞ —Ä—É—Ç–∏–Ω–∞ - –ø–æ–Ω–µ 2-3 —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–µ–Ω');
        recommendations.push('–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –Ω–∞–ø–æ–º–Ω—è–Ω–∏—è/–∞–ª–∞—Ä–º–∏ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–µ');
        recommendations.push('–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ —Å –Ω–æ–≤–∏ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å');
      }
      
      // High Risk-seeking (R >= 65) + High Impulsivity (I >= 65)
      if (scores.R >= 65 && scores.I >= 65) {
        risks.push({
          title: '–ï–∫—Å—Ç—Ä–µ–º–Ω–∏ –ø–æ–¥—Ö–æ–¥–∏',
          description: '–ö–æ–º–±–∏–Ω–∞—Ü–∏—è—Ç–∞ –æ—Ç –≤–∏—Å–æ–∫–∞ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç –∫—ä–º —Ä–∏—Å–∫ –∏ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –æ–ø–∏—Ç–∏ —Å –∫—Ä–∞–π–Ω–∏ –¥–∏–µ—Ç–∏ –∏–ª–∏ "–≤—Å–∏—á–∫–æ –∏–ª–∏ –Ω–∏—â–æ" –º–∏—Å–ª–µ–Ω–µ.'
        });
        recommendations.push('–ò–∑–±—è–≥–≤–∞–π—Ç–µ –∫—Ä–∞–π–Ω–∏ –∏ –±—ä—Ä–∑–∏ –¥–∏–µ—Ç–∏ - —Ç—ä—Ä—Å–µ—Ç–µ —É–º–µ—Ä–µ–Ω–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–∏ –ø–æ–¥—Ö–æ–¥–∏');
        recommendations.push('–†–∞–±–æ—Ç–µ—Ç–µ —Å –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–∏—Å—Ç –ø—Ä–µ–¥–∏ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ –≥–æ–ª–µ–º–∏ –ø—Ä–æ–º–µ–Ω–∏ –≤ —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ');
      }
      
      // Low Extraversion (E < 35)
      if (scores.E < 35) {
        risks.push({
          title: '–°–æ—Ü–∏–∞–ª–Ω–∞ –∏–∑–æ–ª–∞—Ü–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–ü–æ-–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç–∏—Ä–∞–Ω–∏—è—Ç —Å—Ç–∏–ª –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —Ö—Ä–∞–Ω–µ–Ω–µ –≤ —Å–∞–º–æ—Ç–∞, –∫–æ–µ—Ç–æ –ø–æ–Ω—è–∫–æ–≥–∞ –∑–∞—Ç—Ä—É–¥–Ω—è–≤–∞ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏—è –∏–∑–±–æ—Ä –∏ —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª–∞.'
        });
        recommendations.push('–°—ä–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∞ —Å—Ä–µ–¥–∞ –∏ —É –¥–æ–º–∞');
        recommendations.push('–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –ø–æ–¥–∫—Ä–µ–ø—è—â–∞ –æ–Ω–ª–∞–π–Ω –æ–±—â–Ω–æ—Å—Ç –∏–ª–∏ accountability partner');
      }
      
      // High Extraversion (E >= 70) + Low Agreeableness (A < 40)
      if (scores.E >= 70 && scores.A < 40) {
        risks.push({
          title: '–ü—Ä–µ–∫–∞–ª–µ–Ω–æ —Å–æ—Ü–∏–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ —Å–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ —á–µ—Å—Ç–∏ –∏–∑–ª–∏–∑–∞–Ω–∏—è, –∞–ª–∫–æ—Ö–æ–ª –∏ —Ö—Ä–∞–Ω–∞ –≤ –∫–æ–º–ø–∞–Ω–∏—è, –∫–æ–µ—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–≤–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∞.'
        });
        recommendations.push('–ü–ª–∞–Ω–∏—Ä–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∫–∞–∫–≤–æ —â–µ –ø–æ—Ä—ä—á–∞—Ç–µ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç');
        recommendations.push('–†–∞–∑—Ä–∞–±–æ—Ç–µ—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ (—Ö—Ä–∞–Ω–µ–Ω–µ –ø—Ä–µ–¥–∏ –∏–∑–ª–∏–∑–∞–Ω–µ, –∏–∑–±–æ—Ä –Ω–∞ –ø–æ-–∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ –æ–ø—Ü–∏–∏)');
      }
      
      // High Agreeableness (A >= 70)
      if (scores.A >= 70) {
        risks.push({
          title: '–¢—Ä—É–¥–Ω–æ—Å—Ç —Å –æ—Ç–∫–∞–∑',
          description: '–í–∏—Å–æ–∫–∞—Ç–∞ —Å—ä–≥–ª–∞—Å—É–≤–∞–Ω–æ—Å—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–∞–≤–∏ —Ç—Ä—É–¥–Ω–æ –æ—Ç–∫–∞–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–Ω–∞ —Ö—Ä–∞–Ω–∞ –∏–ª–∏ –∞–ª–∫–æ—Ö–æ–ª –≤ —Å–æ—Ü–∏–∞–ª–Ω–∏ —Å–∏—Ç—É–∞—Ü–∏–∏.'
        });
        recommendations.push('–ü—Ä–∞–∫—Ç–∏–∫—É–≤–∞–π—Ç–µ —É—á—Ç–∏–≤–∏ –Ω–∞—á–∏–Ω–∏ –∑–∞ –æ—Ç–∫–∞–∑ ("–ë–ª–∞–≥–æ–¥–∞—Ä—è, –Ω–æ —Å—ä–º —Å–∏—Ç/–∞")');
        recommendations.push('–°–ø–æ–¥–µ–ª–µ—Ç–µ —Ü–µ–ª–∏—Ç–µ —Å–∏ —Å –±–ª–∏–∑–∫–∏ —Ö–æ—Ä–∞ –∑–∞ –ø–æ–¥–∫—Ä–µ–ø–∞');
      }
      
      // Low Openness (O < 35) + High Conscientiousness (C >= 70)
      if (scores.O < 35 && scores.C >= 70) {
        risks.push({
          title: '–¢–≤—ä—Ä–¥–µ –æ–≥—Ä–∞–Ω–∏—á–∞–≤–∞—â —Ä–µ–∂–∏–º',
          description: '–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏–µ—Ç–æ –∫—ä–º –ø–æ–∑–Ω–∞—Ç–æ –∏ —Ä—É—Ç–∏–Ω–∞ –º–æ–∂–µ –¥–∞ –≤–æ–¥–∏ –¥–æ –ø—Ä–µ–∫–∞–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –Ω–∞–±–æ—Ä –æ—Ç —Ö—Ä–∞–Ω–∏ –∏ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç.'
        });
        recommendations.push('–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤—è–π—Ç–µ –Ω–æ–≤–∏ –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ö—Ä–∞–Ω–∏ –∫—ä–º —Ä—É—Ç–∏–Ω–∞—Ç–∞');
        recommendations.push('–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ—Ç–æ –µ –≤–∞–∂–Ω–æ –∑–∞ –¥—ä–ª–≥–æ—Å—Ä–æ—á–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –±–∞–ª–∞–Ω—Å');
      }
      
      // Identify strengths
      if (scores.C >= 60) {
        strengths.push('–î–æ–±—Ä–æ—Ç–æ –Ω–∏–≤–æ –Ω–∞ —Å–∞–º–æ–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –µ —Å–∏–ª–µ–Ω —Ñ–∞–∫—Ç–æ—Ä –∑–∞ —É—Å–ø–µ—Ö –≤ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –Ω–∞–≤–∏—Ü–∏');
      }
      
      if (scores.O >= 60) {
        strengths.push('–û—Ç–≤–æ—Ä–µ–Ω–æ—Å—Ç—Ç–∞ –∫—ä–º –Ω–æ–≤–æ —É–ª–µ—Å–Ω—è–≤–∞ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ—Ç–æ —Å—ä—Å –∑–¥—Ä–∞–≤–æ—Å–ª–æ–≤–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –∏ –ø–æ–¥—Ö–æ–¥–∏');
      }
      
      if (scores.E >= 50 && scores.E <= 70) {
        strengths.push('–ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–∞—Ç–∞ —Å–æ—Ü–∏–∞–ª–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è –ø–æ–º–∞–≥–∞ –∑–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–µ –Ω–∞ –∑–¥—Ä–∞–≤–∏ —Å–æ—Ü–∏–∞–ª–Ω–∏ –≤—Ä—ä–∑–∫–∏ –±–µ–∑ –ø—Ä–µ–∫–æ–º–µ—Ä–Ω–æ —Å–æ—Ü–∏–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ');
      }
      
      if (scores.N < 50) {
        strengths.push('–ü–æ-–Ω–∏—Å–∫–∞—Ç–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç –Ω–∞–º–∞–ª—è–≤–∞ —Ä–∏—Å–∫–∞ –æ—Ç –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–µ');
      }
      
      if (scores.I < 50) {
        strengths.push('–ü–æ-–Ω–∏—Å–∫–∞—Ç–∞ –∏–º–ø—É–ª—Å–∏–≤–Ω–æ—Å—Ç —É–ª–µ—Å–Ω—è–≤–∞ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ—Ç–æ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞ –≤—ä—Ä—Ö—É —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –∏–∑–±–æ—Ä–∏');
      }
      
      if (scores.R < 50) {
        strengths.push('–ü—Ä–µ–¥–ø–∞–∑–ª–∏–≤–∏—è—Ç –ø–æ–¥—Ö–æ–¥ –∫—ä–º —Ä–∏—Å–∫ –ø–æ–º–∞–≥–∞ –∑–∞ –∏–∑–±—è–≥–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∞–π–Ω–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–æ –≤—Ä–µ–¥–Ω–∏ –¥–∏–µ—Ç–∏—á–Ω–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏');
      }
      
      // If no specific risks identified
      if (risks.length === 0) {
        risks.push({
          title: '–ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª',
          description: '–í–∞—à–∏—è—Ç –ª–∏—á–Ω–æ—Å—Ç–µ–Ω –ø—Ä–æ—Ñ–∏–ª –Ω–µ –ø–æ–∫–∞–∑–≤–∞ —è—Å–Ω–æ –∏–∑—Ä–∞–∑–µ–Ω–∏ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ —Ä–∏—Å–∫ –≤—ä–≤ –≤—Ä—ä–∑–∫–∞ —Å —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏—Ç–µ –Ω–∞–≤–∏—Ü–∏. –¢–æ–≤–∞ –µ –¥–æ–±—Ä–∞ –∏–∑—Ö–æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è.'
        });
        recommendations.push('–ü–æ–¥–¥—ä—Ä–∂–∞–π—Ç–µ –æ—Å—ä–∑–Ω–∞—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–µ –∏ —Ä–µ–¥–æ–≤–µ–Ω —Ä–µ–∂–∏–º');
        recommendations.push('–°–ª–µ–¥–µ—Ç–µ –∑–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤ —Å—Ç—Ä–µ—Å–∞ –∏–ª–∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–∏—Ç–æ –º–æ–≥–∞—Ç –¥–∞ –ø–æ–≤–ª–∏—è—è—Ç —Ö—Ä–∞–Ω–µ–Ω–µ—Ç–æ');
      }
      
      return { risks, recommendations, strengths };
    }

    function renderAIAnalysis(analysis) {
      const container = document.getElementById('aiAnalysisContainer');
      
      let html = '';
      
      // Strengths
      if (analysis.strengths.length > 0) {
        html += `
          <div class="ai-subsection">
            <h4>‚úì –°–∏–ª–Ω–∏ —Å—Ç—Ä–∞–Ω–∏ –Ω–∞ –≤–∞—à–∏—è –ø—Ä–æ—Ñ–∏–ª</h4>
            <ul class="ai-list">
              ${analysis.strengths.map(s => `
                <li>
                  <span class="ai-bullet">‚Ä¢</span>
                  <span class="ai-text">${s}</span>
                </li>
              `).join('')}
            </ul>
          </div>
        `;
      }
      
      // Risks
      html += `
        <div class="ai-subsection">
          <h4>‚ö† –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ —Ä–∏—Å–∫–æ–≤–∏ –æ–±–ª–∞—Å—Ç–∏</h4>
          ${analysis.risks.map(risk => `
            <div style="margin-bottom: 16px;">
              <div style="font-weight: 700; color: var(--text); margin-bottom: 4px;">${risk.title}</div>
              <div class="ai-text">${risk.description}</div>
            </div>
          `).join('')}
        </div>
      `;
      
      // Recommendations
      html += `
        <div class="ai-subsection">
          <h4>üí° –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ</h4>
          <ul class="ai-list">
            ${analysis.recommendations.map(rec => `
              <li>
                <span class="ai-bullet">‚Üí</span>
                <span class="ai-text">${rec}</span>
              </li>
            `).join('')}
          </ul>
        </div>
      `;
      
      // General note
      html += `
        <div class="ai-subsection">
          <div class="ai-text" style="font-style: italic; padding-top: 12px; border-top: 1px solid var(--border);">
            <strong>–ó–∞–±–µ–ª–µ–∂–∫–∞:</strong> –¢–æ–∑–∏ –∞–Ω–∞–ª–∏–∑ –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –Ω–∞ –±–∞–∑–∞ –Ω–∞—É—á–Ω–∏ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–∏—è –∑–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞ –º–µ–∂–¥—É –ª–∏—á–Ω–æ—Å—Ç–Ω–∏ —á–µ—Ä—Ç–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –Ω–∞–≤–∏—Ü–∏. 
            –¢–æ–π –Ω–µ –∑–∞–º–µ–Ω—è –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏—è —Å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç. –ó–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–µ–Ω –ø–ª–∞–Ω –∫–æ–Ω—Å—É–ª—Ç–∏—Ä–∞–π—Ç–µ —Å–µ —Å –ª–∏—Ü–µ–Ω–∑–∏—Ä–∞–Ω –Ω—É—Ç—Ä–∏—Ü–∏–æ–Ω–∏—Å—Ç –∏–ª–∏ –ø—Å–∏—Ö–æ–ª–æ–≥.
          </div>
        </div>
      `;
      
      container.innerHTML = html;
    }

    function restartTest() {
      currentQuestionIndex = 0;
      answers = {};
      showScreen('screenIntro');
    }

    // Initialize
    document.getElementById('totalQuestions').textContent = questions.length;
  </script>
</body>
</html>
