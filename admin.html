<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Администраторски панел</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/base_styles.css">
  <link rel="stylesheet" href="css/layout_styles.css">
  <link rel="stylesheet" href="css/components_styles.css">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <h1>Администраторски панел <span id="notificationIndicator" class="notification-dot hidden"></span></h1>
  <p><a href="logout.html">Изход</a></p>
  <div class="layout">
  <aside class="sidebar card" id="clientsSection">
    <h2>Клиенти</h2>
    <input id="clientSearch" placeholder="Търсене по име/ID">
    <select id="statusFilter">
      <option value="all">Всички</option>
      <option value="pending">pending</option>
      <option value="processing">processing</option>
      <option value="ready">ready</option>
    </select>
    <p id="clientsCount"></p>
    <button id="showStats">Покажи статистика</button>
    <ul id="clientsList"></ul>
  </aside>

  <main class="main-content card" id="clientDetails" class="hidden">
    <h2 id="clientName">Клиент</h2>
    <details id="profileSection">
      <summary>Лични данни</summary>
      <form id="profileForm">
        <label>Име: <input id="profileName" type="text"></label><br>
        <label>Имейл: <input id="profileEmail" type="email"></label><br>
        <label>Телефон: <input id="profilePhone" type="tel"></label><br>
        <button type="submit">Запази профила</button>
      </form>
    </details>
    <button id="regeneratePlan">Генерирай нов план</button>
    <button id="aiSummary">AI резюме</button>
    <details id="notesSection">
      <summary>Бележки</summary>
      <textarea id="adminNotes" rows="3" cols="40"></textarea><br>
      <label>Етикети: <input id="adminTags"></label>
      <button id="saveNotes">Запази бележките</button>
    </details>

    <details id="qaSection">
      <summary>Данни от въпросника</summary>
      <div id="initialAnswers"></div>
    </details>

    <details id="menuSection">
      <summary>Текущо меню</summary>
      <div id="planMenu"></div>
    </details>

    <details id="logsSection">
      <summary>Дневници</summary>
      <div id="dailyLogs"></div>
    </details>

    <details id="dashboardSection">
      <summary>Пълни данни (JSON)</summary>
      <pre id="dashboardData" class="json"></pre>
    </details>
    <button id="exportData">Експортирай всички данни</button>
    <button id="exportPlan">Експортирай плана като JSON</button>

    <details id="queriesSection">
      <summary>Запитвания</summary>
      <ul id="queriesList"></ul>
      <textarea id="newQueryText" rows="3" cols="40"></textarea><br>
      <button id="sendQuery">Изпрати запитване</button>
    </details>
    <details id="clientRepliesSection">
      <summary>Отговори от клиента</summary>
      <ul id="clientRepliesList"></ul>
    </details>
    <details id="feedbackSection">
      <summary>Обратна връзка</summary>
      <ul id="feedbackList"></ul>
    </details>
  </main>
  </div>

  <section id="statsSection" class="hidden">
    <h2>Статистика</h2>
    <pre id="statsOutput"></pre>
  </section>

  <section id="aiConfigSection" class="card">
    <h2>AI конфигурация</h2>
    <form id="aiConfigForm">
      <fieldset>
        <legend>Генериране на план</legend>
        <label>Токен: <input id="planToken" type="text"></label>
        <label>Модел: <input id="planModel" type="text"></label>
      </fieldset>
      <fieldset>
        <legend>Чат</legend>
        <label>Токен: <input id="chatToken" type="text"></label>
        <label>Модел: <input id="chatModel" type="text"></label>
      </fieldset>
      <fieldset>
        <legend>Модификация на плана</legend>
        <label>Токен: <input id="modToken" type="text"></label>
        <label>Модел: <input id="modModel" type="text"></label>
      </fieldset>
      <button type="submit">Запази</button>
    </form>
  </section>

  <script type="module" src="js/admin.js"></script>
</body>
</html>
