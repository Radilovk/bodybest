<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Въпросник за хранителни навици (Dynamic)</title>
  
  <!-- Връзки към файловете със стилове (тук ще се реализира новият дизайн) -->
  <link href="css/quest_theme.css" rel="stylesheet">
  <link href="css/quest_styles.css" rel="stylesheet">
  <link href="css/components_styles.css" rel="stylesheet">
  
  <!-- Връзка за икони -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body id="questPage">

<!-- 
  Прогрес барът е ключов компонент от навигацията и остава.
  Стилът му ще се управлява от quest_styles.css.
-->
<div class="step-indicator-container">
  <span class="step-indicator-label">Стъпка <span id="questCurrentStep">0</span> от <span id="questTotalSteps">0</span></span>
  <div class="progress-bar-steps"><div id="questProgressBar" class="step-progress-bar"></div></div>
</div>

<!-- 
  Това е основният контейнер, който JavaScript попълва динамично със страниците на въпросника.
  Началната инструкция също е тук, както се очаква от скрипта.
-->
<div class="container" id="dynamicContainer">
  <div id="questInstructions" class="quest-instructions">
    За да получите индивидуален и максимално ефективен план за вас,
    въведете коректна и изчерпателна информация.
  </div>
</div>

<!-- 
  Лентата със статистики, която се показва след началната страница.
  Структурата е запазена, за да може JS да я управлява, а CSS да я стилизира.
-->
<div id="persistentStats" class="stats-bar">
  <div class="stat-item">
    <img class="stat-icon" src="https://radilovk.github.io/bodybest/img/aibrain.png" alt="AI Algorithm">
    <div class="stat-label">AI Med Алгоритъм</div>
  </div>
  <div class="stat-item">
    <img class="stat-icon" src="https://radilovk.github.io/bodybest/img/medic.png" alt="Medical Experts">
    <div class="stat-label">Реални специалисти</div>
  </div>
  <div class="stat-item">
    <img class="stat-icon" src="https://radilovk.github.io/bodybest/img/clock.png" alt="24/7 Assistant">
    <div class="stat-label">24/7 Личен асистент</div>
  </div>
</div>

<!-- Скрити функционални елементи (запазени непроменени) -->
<div id="secretTapArea" style="position: fixed; top: 0; left: 0; width: 30px; height: 30px; opacity: 0; z-index: 9999;"></div>
<a href="admin.html" id="adminLink" style="display:none; position: fixed; bottom: 10px; right: 10px; background: #4fc3a1; color: #121212; padding: 5px 10px; border-radius: 5px; text-decoration: none;">
  Admin
</a>

<!-- 
  Основният JavaScript модул, който управлява цялата логика на въпросника.
  Той остава напълно непроменен, за да се гарантира функционалността.
-->

<script type="module">
  import { initQuestionnaire } from './js/questionnaireCore.js';
  import { apiEndpoints } from './js/config.js';
  document.addEventListener('DOMContentLoaded', () => {
    initQuestionnaire({
      questionsUrl: 'questions.json',
      submitUrl: apiEndpoints.submitQuestionnaire
    });
  });
</script>
</body>
</html>
